!function(){function b(){a||(this._$MT=null,this._$5S=null,this._$NP=0,b._$42++,this._$5S=new Q(this))}function c(b){if(!a){this.clipContextList=new Array,this.glcontext=b.gl,this.dp_webgl=b,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new x,ka.glContext.length>ka.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new I,this.tmpMatrix2=new I,this.tmpMatrixForMask=new I,this.tmpMatrixForDraw=new I,this.CHANNEL_COLORS=new Array;var c=new C;c=new C,c.r=0,c.g=0,c.b=0,c.a=1,this.CHANNEL_COLORS.push(c),c=new C,c.r=1,c.g=0,c.b=0,c.a=0,this.CHANNEL_COLORS.push(c),c=new C,c.r=0,c.g=1,c.b=0,c.a=0,this.CHANNEL_COLORS.push(c),c=new C,c.r=0,c.g=0,c.b=1,c.a=0,this.CHANNEL_COLORS.push(c);for(var d=0;d<this.CHANNEL_COLORS.length;d++)this.dp_webgl.setChannelFlagAsColor(d,this.CHANNEL_COLORS[d])}}function d(a,b,c){this.clipIDList=new Array,this.clipIDList=c,this.clippingMaskDrawIndexList=new Array;for(var d=0;d<c.length;d++)this.clippingMaskDrawIndexList.push(b.getDrawDataIndex(c[d]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new x,this.allClippedDrawRect=new x,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=a}function e(a,b){this._$gP=a,this.drawDataIndex=b}function f(){a||(this.color=null)}function g(){a||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function h(){}function i(){this._$r=null,this._$0S=null}function j(){a||(this.x=null,this.y=null,this.width=null,this.height=null)}function k(b){a||ea.prototype.constructor.call(this,b)}function l(){}function n(b){a||ea.prototype.constructor.call(this,b)}function o(){a||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,o._$42++)}function p(){a||(this.p1=new q,this.p2=new q,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function q(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function r(a,b,c){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=a,this.scale=b,this._$V0=c}function s(a,b,c,d){r.prototype.constructor.call(this,b,c,d),this._$tL=null,this._$tL=a}function t(a,b,c){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=a,this.scale=b,this._$V0=c}function u(a,b,c,d){t.prototype.constructor.call(this,b,c,d),this._$YP=null,this._$YP=a}function v(){a||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function x(){a||(this.x=null,this.y=null,this.width=null,this.height=null)}function y(){}function z(){a||(this.x=null,this.y=null)}function A(){a||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function B(){a||(this._$Eb=B._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=B.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function C(){a||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=ka.L2D_COLOR_BLEND_MODE_MULT)}function D(){a||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function E(){}function F(){a||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=F._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function G(){}function H(){a||(this._$Ob=null)}function I(){this.m=new Float32Array(16),this.identity()}function J(b){a||ea.prototype.constructor.call(this,b)}function K(){a||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function L(){a||(g.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=L._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function M(){this._$P=new Float32Array(100),this.size=0}function N(){this._$4P=null,this._$I0=null,this._$RP=null}function O(){}function P(){}function Q(b){a||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(Q._$is),this._$_2=new Float32Array(Q._$is),this._$vr=new Float32Array(Q._$is),this._$Rr=new Float32Array(Q._$is),this._$Or=new Float32Array(Q._$is),this._$fs=new Float32Array(Q._$is),this._$Js=new Array(Q._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(O._$Qb),this._$ZP=new Float32Array(2*O._$1r),this._$Ri=b,this._$b0=Q._$HP++,this.clipManager=null,this.dp_webgl=null)}function R(){}function S(){a||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=T.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function U(){a||(B.prototype.constructor.call(this),this._$sb=new Int32Array(U._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==U._$NT&&(U._$NT=U._$9r(256),U._$vS=U._$9r(256),U._$no=U._$vb(256)))}function V(){a||(D.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function W(a){ja.prototype.constructor.call(this,a),this._$8r=D._$ur,this._$Yr=null,this._$Wr=null}function X(){a||(A.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function Y(){a||(this._$NL=null,this._$3S=null,this._$aS=null,Y._$42++)}function Z(){a||(b.prototype.constructor.call(this),this._$zo=new U)}function $(){a||(g.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=$._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function _(a,b){return String.fromCharCode(a.getUint8(b))}function M(){this._$P=new Float32Array(100),this.size=0}function N(){this._$4P=null,this._$I0=null,this._$RP=null}function aa(){a||(D.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function ba(a){ja.prototype.constructor.call(this,a),this._$8r=D._$ur,this._$Cr=null,this._$hr=null}function ca(){a||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,ca._$42++)}function da(a){this._$VS=null,this._$e0=null,this._$e0=a}function ea(b){a||(this.id=b)}function fa(){}function ga(){a||(this._$4S=null)}function ha(a,b){this.canvas=a,this.context=b,this.viewport=new Array(0,0,a.width,a.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function ia(){a||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function ja(b){a||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=b,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function ka(){}function la(){}function ma(b){a||(this._$ib=b)}function na(){a||(X.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=na._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=na._$42++)}function oa(a){Ca.prototype.constructor.call(this,a),this._$8r=X._$ur,this._$Cr=null,this._$hr=null}function pa(){a||(this.x=null,this.y=null)}function qa(c){a||(b.prototype.constructor.call(this),this.drawParamWebGL=new va(c),this.drawParamWebGL.setGL(ka.getGL(c)))}function ra(){a||(this.motions=null,this._$eb=!1,this.motions=new Array)}function sa(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=sa._$Gs++}function ta(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function ua(b){a||ea.prototype.constructor.call(this,b)}function va(b){a||(B.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=b,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function wa(a,b,c){return null==b&&(b=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),b}function xa(a,b,c){return null==b&&(b=a.createBuffer()),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b),a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.DYNAMIC_DRAW),b}function ya(b){a||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=b,this._$F=0)}function Aa(){}function Ba(){}function Ca(b){a||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=b)}function Da(){}var a=!0;b._$0s=1,b._$4s=2,b._$42=0,b._$62=function(a,c){try{if(c instanceof ArrayBuffer&&(c=new DataView(c)),!(c instanceof DataView))throw new ma("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var i,d=new ya(c),e=d._$ST(),f=d._$ST(),g=d._$ST();if(109!=e||111!=f||99!=g)throw new ma("_$gi _$C _$li , _$Q0 _$P0.");if(i=d._$ST(),d._$gr(i),i>P._$T7){a._$NP|=b._$4s;var j=P._$T7,k="_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+j+" < _$f0 : "+i+" )@_$SS#loadModel()\n";throw new ma(k)}var l=d._$nP();if(i>=P._$s7){var m=d._$9T(),n=d._$9T();if(m!=-30584||n!=-30584)throw a._$NP|=b._$0s,new ma("_$gi _$C _$li , _$0 _$6 _$Ui.")}a._$KS(l);var o=a.getModelContext();o.setDrawParam(a.getDrawParam()),o.init()}catch(a){h._$Rb(a)}},b.prototype._$KS=function(a){this._$MT=a},b.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new o,this._$MT._$zP()),this._$MT},b.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},b.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},b.prototype.getParamFloat=function(a){return"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),this._$5S.getParamFloat(a)},b.prototype.setParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)*(1-c)+b*c)},b.prototype.addToParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)+b*c)},b.prototype.multParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)*(1+(b-1)*c))},b.prototype.getParamIndex=function(a){return this._$5S.getParamIndex(n.getID(a))},b.prototype.loadParam=function(){this._$5S.loadParam()},b.prototype.saveParam=function(){this._$5S.saveParam()},b.prototype.init=function(){this._$5S.init()},b.prototype.update=function(){this._$5S.update()},b.prototype._$Rs=function(){return h._$li("_$60 _$PT _$Rs()"),-1},b.prototype._$Ds=function(a){h._$li("_$60 _$PT _$SS#_$Ds() \n")},b.prototype._$K2=function(){},b.prototype.draw=function(){},b.prototype.getModelContext=function(){return this._$5S},b.prototype._$s2=function(){return this._$NP},b.prototype._$P7=function(a,b,c,d){var e=-1,f=0,g=this,h=.5,i=.15,j=!0;if(0!=c)if(1==a.length){var l=a[0],o=0!=g.getParamFloat(l),m=b[0],p=g.getPartsOpacity(m),q=c/d;o?(p+=q,p>1&&(p=1)):(p-=q,p<0&&(p=0)),g.setPartsOpacity(m,p)}else{for(var k=0;k<a.length;k++){var l=a[k],n=0!=g.getParamFloat(l);if(n){if(e>=0)break;e=k;var m=b[k];f=g.getPartsOpacity(m),f+=c/d,f>1&&(f=1)}}e<0&&(console.log("No _$wi _$q0/ _$U default[%s]",a[0]),e=0,f=1,g.loadParam(),g.setParamFloat(a[e],f),g.saveParam());for(var k=0;k<a.length;k++){var m=b[k];if(e==k)g.setPartsOpacity(m,f);else{var s,r=g.getPartsOpacity(m);if(s=f<h?f*(h-1)/h+1:(1-f)*h/(1-h),j){var t=(1-s)*(1-f);t>i&&(s=1-i/(1-f))}r>s&&(r=s),g.setPartsOpacity(m,r)}}}else for(var k=0;k<a.length;k++){var l=a[k],m=b[k],n=0!=g.getParamFloat(l);g.setPartsOpacity(m,n?1:0)}},b.prototype.setPartsOpacity=function(a,b){"number"!=typeof a&&(a=this._$5S.getPartsDataIndex(k.getID(a))),this._$5S.setPartsOpacity(a,b)},b.prototype.getPartsDataIndex=function(a){return a instanceof k||(a=k.getID(a)),this._$5S.getPartsDataIndex(a)},b.prototype.getPartsOpacity=function(a){return"number"!=typeof a&&(a=this._$5S.getPartsDataIndex(k.getID(a))),a<0?0:this._$5S.getPartsOpacity(a)},b.prototype.getDrawParam=function(){},b.prototype.getDrawDataIndex=function(a){return this._$5S.getDrawDataIndex(J.getID(a))},b.prototype.getDrawData=function(a){return this._$5S.getDrawData(a)},b.prototype.getTransformedPoints=function(a){var b=this._$5S._$C2(a);return b instanceof oa?b.getTransformedPoints():null},b.prototype.getIndexArray=function(a){if(a<0||a>=this._$5S._$aS.length)return null;var b=this._$5S._$aS[a];return null!=b&&b.getType()==X._$wb&&b instanceof na?b.getIndexArray():null},c.CHANNEL_COUNT=4,c.RENDER_TEXTURE_USE_MIPMAP=!1,c.NOT_USED_FRAME=-100,c.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var a=this.CHANNEL_COLORS.length-1;a>=0;--a)this.CHANNEL_COLORS.splice(a,1);this.CHANNEL_COLORS=[]}this.releaseShader()},c.prototype.releaseShader=function(){for(var a=ka.frameBuffers.length,b=0;b<a;b++)this.gl.deleteFramebuffer(ka.frameBuffers[b].framebuffer);ka.frameBuffers=[],ka.glContext=[]},c.prototype.init=function(a,b,c){for(var e=0;e<b.length;e++){var f=b[e].getClipIDList();if(null!=f){var g=this.findSameClip(f);null==g&&(g=new d(this,a,f),this.clipContextList.push(g));var h=b[e].getDrawDataID(),i=a.getDrawDataIndex(h);g.addClippedDrawData(h,i);var j=c[e];j.clipBufPre_clipContext=g}}},c.prototype.getMaskRenderTexture=function(){var a=null;return a=this.dp_webgl.createFramebuffer(),ka.frameBuffers[this.dp_webgl.glno]=a,this.dp_webgl.glno},c.prototype.setupClip=function(a,b){for(var c=0,d=0;d<this.clipContextList.length;d++){var e=this.clipContextList[d];this.calcClippedDrawTotalBounds(a,e),e.isUsing&&c++}if(c>0){var f=b.gl.getParameter(b.gl.FRAMEBUFFER_BINDING),g=new Array(4);g[0]=0,g[1]=0,g[2]=b.gl.canvas.width,g[3]=b.gl.canvas.height,b.gl.viewport(0,0,ka.clippingMaskBufferSize,ka.clippingMaskBufferSize),this.setupLayoutBounds(c),b.gl.bindFramebuffer(b.gl.FRAMEBUFFER,ka.frameBuffers[this.curFrameNo].framebuffer),b.gl.clearColor(0,0,0,0),b.gl.clear(b.gl.COLOR_BUFFER_BIT);for(var d=0;d<this.clipContextList.length;d++){var e=this.clipContextList[d],h=e.allClippedDrawRect,j=(e.layoutChannelNo,e.layoutBounds),k=.05;this.tmpBoundsOnModel._$jL(h),this.tmpBoundsOnModel.expand(h.width*k,h.height*k);var l=j.width/this.tmpBoundsOnModel.width,m=j.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(j.x,j.y,0),this.tmpMatrix2.scale(l,m,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(j.x,j.y,0),this.tmpMatrix2.scale(l,m,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var n=this.tmpMatrixForMask.getArray(),o=0;o<16;o++)e.matrixForMask[o]=n[o];for(var p=this.tmpMatrixForDraw.getArray(),o=0;o<16;o++)e.matrixForDraw[o]=p[o];for(var q=e.clippingMaskDrawIndexList.length,r=0;r<q;r++){var s=e.clippingMaskDrawIndexList[r],t=a.getDrawData(s),u=a._$C2(s);b.setClipBufPre_clipContextForMask(e),t.draw(b,a,u)}}b.gl.bindFramebuffer(b.gl.FRAMEBUFFER,f),b.setClipBufPre_clipContextForMask(null),b.gl.viewport(g[0],g[1],g[2],g[3])}},c.prototype.getColorBuffer=function(){return this.colorBuffer},c.prototype.findSameClip=function(a){for(var b=0;b<this.clipContextList.length;b++){var c=this.clipContextList[b],d=c.clipIDList.length;if(d==a.length){for(var e=0,f=0;f<d;f++)for(var g=c.clipIDList[f],h=0;h<d;h++)if(a[h]==g){e++;break}if(e==d)return c}}return null},c.prototype.calcClippedDrawTotalBounds=function(a,b){for(var c=a._$Ri.getModelImpl().getCanvasWidth(),d=a._$Ri.getModelImpl().getCanvasHeight(),e=c>d?c:d,f=e,g=e,h=0,i=0,j=b.clippedDrawContextList.length,k=0;k<j;k++){var l=b.clippedDrawContextList[k],m=l.drawDataIndex,n=a._$C2(m);if(n._$yo()){for(var o=n.getTransformedPoints(),p=o.length,q=[],r=[],s=0,t=O._$i2;t<p;t+=O._$No)q[s]=o[t],r[s]=o[t+1],s++;var u=Math.min.apply(null,q),v=Math.min.apply(null,r),w=Math.max.apply(null,q),x=Math.max.apply(null,r);u<f&&(f=u),v<g&&(g=v),w>h&&(h=w),x>i&&(i=x)}}if(f==e)b.allClippedDrawRect.x=0,b.allClippedDrawRect.y=0,b.allClippedDrawRect.width=0,b.allClippedDrawRect.height=0,b.isUsing=!1;else{var y=h-f,z=i-g;b.allClippedDrawRect.x=f,b.allClippedDrawRect.y=g,b.allClippedDrawRect.width=y,b.allClippedDrawRect.height=z,b.isUsing=!0}},c.prototype.setupLayoutBounds=function(a){var b=a/c.CHANNEL_COUNT,d=a%c.CHANNEL_COUNT;b=~~b,d=~~d;for(var e=0,f=0;f<c.CHANNEL_COUNT;f++){var g=b+(f<d?1:0);if(0==g);else if(1==g){var i=this.clipContextList[e++];i.layoutChannelNo=f,i.layoutBounds.x=0,i.layoutBounds.y=0,i.layoutBounds.width=1,i.layoutBounds.height=1}else if(2==g)for(var j=0;j<g;j++){var k=j%2,l=0;k=~~k;var i=this.clipContextList[e++];i.layoutChannelNo=f,i.layoutBounds.x=.5*k,i.layoutBounds.y=0,i.layoutBounds.width=.5,i.layoutBounds.height=1}else if(g<=4)for(var j=0;j<g;j++){var k=j%2,l=j/2;k=~~k,l=~~l;var i=this.clipContextList[e++];i.layoutChannelNo=f,i.layoutBounds.x=.5*k,i.layoutBounds.y=.5*l,i.layoutBounds.width=.5,i.layoutBounds.height=.5}else if(g<=9)for(var j=0;j<g;j++){var k=j%3,l=j/3;k=~~k,l=~~l;var i=this.clipContextList[e++];i.layoutChannelNo=f,i.layoutBounds.x=k/3,i.layoutBounds.y=l/3,i.layoutBounds.width=1/3,i.layoutBounds.height=1/3}else h._$li("_$6 _$0P mask count : %d",g)}},d.prototype.addClippedDrawData=function(a,b){var c=new e(a,b);this.clippedDrawContextList.push(c)},g._$JT=function(a,b,c){var d=a/b,e=c/b,f=e,g=1/3,h=2/3,i=1-(1-e)*(1-e),j=1-(1-f)*(1-f),k=0,l=(1-e)*g*i+(f*h+(1-f)*g)*(1-i),m=(f+(1-f)*h)*j+(e*g+(1-e)*h)*(1-j),n=1,o=n-3*m+3*l-k,p=3*m-6*l+3*k,q=3*l-3*k,r=k;if(d<=0)return 0;if(d>=1)return 1;var s=d,t=s*s,u=s*t,v=o*u+p*t+q*s+r;return v},g.prototype._$a0=function(){},g.prototype.setFadeIn=function(a){this._$dP=a},g.prototype.setFadeOut=function(a){this._$eo=a},g.prototype._$pT=function(a){this._$V0=a},g.prototype.getFadeOut=function(){return this._$eo},g.prototype._$4T=function(){return this._$eo},g.prototype._$mT=function(){return this._$V0},g.prototype.getDurationMSec=function(){return-1},g.prototype.getLoopDurationMSec=function(){return-1},g.prototype.updateParam=function(a,b){if(b._$AT&&!b._$9L){var c=E.getUserTimeMSec();if(b._$z2<0){b._$z2=c,b._$bs=c;var d=this.getDurationMSec();b._$Do<0&&(b._$Do=d<=0?-1:b._$z2+d)}var e=this._$V0,f=0==this._$dP?1:la._$r2((c-b._$bs)/this._$dP),g=0==this._$eo||b._$Do<0?1:la._$r2((b._$Do-c)/this._$eo);e=e*f*g,0<=e&&e<=1||console.log("### assert!! ### "),this.updateParamExe(a,c,e,b),b._$Do>0&&b._$Do<c&&(b._$9L=!0)}},g.prototype.updateParamExe=function(a,b,c,d){},h._$8s=0,h._$fT=new Object,h.start=function(a){var b=h._$fT[a];null==b&&(b=new i,b._$r=a,h._$fT[a]=b),b._$0S=E.getSystemTimeMSec()},h.dump=function(a){var b=h._$fT[a];if(null!=b){var c=E.getSystemTimeMSec(),d=c-b._$0S;return console.log(a+" : "+d+"ms"),d}return-1},h.end=function(a){var b=h._$fT[a];if(null!=b){var c=E.getSystemTimeMSec();return c-b._$0S}return-1},h._$li=function(a,b){console.log("_$li : "+a+"\n",b)},h._$Ji=function(a,b){console.log(a,b)},h._$dL=function(a,b){console.log(a,b),console.log("\n")},h._$KL=function(a,b){for(var c=0;c<b;c++)c%16==0&&c>0?console.log("\n"):c%8==0&&c>0&&console.log("  "),console.log("%02X ",255&a[c]);console.log("\n")},h._$nr=function(a,b,c){console.log("%s\n",a);for(var d=b.length,e=0;e<d;++e)console.log("%5d",b[e]),console.log("%s\n",c),console.log(",");console.log("\n")},h._$Rb=function(a){console.log("dump exception : "+a),console.log("stack :: "+a.stack)},j.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},j.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},j.prototype._$EL=function(){return this.x+this.width},j.prototype._$5T=function(){return this.y+this.height},j.prototype._$jL=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},j.prototype._$jL=function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},k.prototype=new ea,k._$tP=new Object,k._$27=function(){k._$tP.clear()},k.getID=function(a){var b=k._$tP[a];return null==b&&(b=new k(a),k._$tP[a]=b),b},k.prototype._$3s=function(){return new k},n.prototype=new ea,n._$tP=new Object,n._$27=function(){n._$tP.clear()},n.getID=function(a){var b=n._$tP[a];return null==b&&(b=new n(a),n._$tP[a]=b),b},n.prototype._$3s=function(){return new n},o._$42=0,o.prototype._$zP=function(){null==this._$vo&&(this._$vo=new ga),null==this._$F2&&(this._$F2=new Array)},o.prototype.getCanvasWidth=function(){return this._$ao},o.prototype.getCanvasHeight=function(){return this._$1S},o.prototype._$F0=function(a){this._$vo=a._$nP(),this._$F2=a._$nP(),this._$ao=a._$6L(),this._$1S=a._$6L()},o.prototype._$6S=function(a){this._$F2.push(a)},o.prototype._$Xr=function(){return this._$F2},o.prototype._$E2=function(){return this._$vo},p.prototype.setup=function(a,b,c){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=a,this._$L2=b,this.p1._$p=c,this.p2._$p=c,this.p2.y=a,this.setup())},p.prototype.getPhysicsPoint1=function(){return this.p1},p.prototype.getPhysicsPoint2=function(){return this.p2},p.prototype._$qr=function(){return this._$Db},p.prototype._$pr=function(a){this._$Db=a},p.prototype._$5r=function(){return this._$M2},p.prototype._$Cs=function(){return this._$9b},p.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},p.prototype.addSrcParam=function(a,b,c,d){var e=new s(a,b,c,d);this._$lL.push(e)},p.prototype.addTargetParam=function(a,b,c,d){var e=new u(a,b,c,d);this._$qP.push(e)},p.prototype.update=function(a,b){if(0==this._$iP)return this._$iP=this._$iT=b,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var c=(b-this._$iT)/1e3;if(0!=c){for(var d=this._$lL.length-1;d>=0;--d){var e=this._$lL[d];e._$oP(a,this)}this._$oo(a,c),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/c,this._$ks=this._$M2}for(var d=this._$qP.length-1;d>=0;--d){var f=this._$qP[d];f._$YS(a,this)}this._$iT=b},p.prototype._$oo=function(a,b){b<.033&&(b=.033);var c=1/b;this.p1.vx=(this.p1.x-this.p1._$s0)*c,this.p1.vy=(this.p1.y-this.p1._$70)*c,this.p1.ax=(this.p1.vx-this.p1._$7L)*c,this.p1.ay=(this.p1.vy-this.p1._$HL)*c,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var e,f,d=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),g=Math.cos(d),h=Math.sin(d),i=9.8*this.p2._$p,j=this._$Db*Ba._$bS,k=i*Math.cos(d-j);e=k*h,f=k*g;var l=-this.p1.fx*h*h,m=-this.p1.fy*h*g,n=-this.p2.vx*this._$L2,o=-this.p2.vy*this._$L2;this.p2.fx=e+l+n,this.p2.fy=f+m+o,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*b,this.p2.vy+=this.p2.ay*b,this.p2.x+=this.p2.vx*b,this.p2.y+=this.p2.vy*b;var p=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/p,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/p,this.p2.vx=(this.p2.x-this.p2._$s0)*c,this.p2.vy=(this.p2.y-this.p2._$70)*c,this.p2._$xT()},q.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},r.prototype._$oP=function(a,b){},s.prototype=new r,s.prototype._$oP=function(a,b){var c=this.scale*a.getParamFloat(this._$wL),d=b.getPhysicsPoint1();switch(this._$tL){default:case p.Src.SRC_TO_X:d.x=d.x+(c-d.x)*this._$V0;break;case p.Src.SRC_TO_Y:d.y=d.y+(c-d.y)*this._$V0;break;case p.Src.SRC_TO_G_ANGLE:var e=b._$qr();e+=(c-e)*this._$V0,b._$pr(e)}},t.prototype._$YS=function(a,b){},u.prototype=new t,u.prototype._$YS=function(a,b){switch(this._$YP){default:case p.Target.TARGET_FROM_ANGLE:a.setParamFloat(this._$wL,this.scale*b._$5r(),this._$V0);break;case p.Target.TARGET_FROM_ANGLE_V:a.setParamFloat(this._$wL,this.scale*b._$Cs(),this._$V0)}},p.Src=function(){},p.Src.SRC_TO_X="SRC_TO_X",p.Src.SRC_TO_Y="SRC_TO_Y",p.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",p.Target=function(){},p.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",p.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",v.prototype.init=function(a){this._$fL=a._$fL,this._$gL=a._$gL,this._$B0=a._$B0,this._$z0=a._$z0,this._$qT=a._$qT,this.reflectX=a.reflectX,this.reflectY=a.reflectY},v.prototype._$F0=function(a){this._$fL=a._$_T(),this._$gL=a._$_T(),this._$B0=a._$_T(),this._$z0=a._$_T(),this._$qT=a._$_T(),a.getFormatVersion()>=P.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=a._$po(),this.reflectY=a._$po())},v.prototype._$e=function(){};var w=function(){};w._$ni=function(a,b,c,d,e,f,g,h,i){var j=g*f-h*e;if(0==j)return null;var l,k=((a-c)*f-(b-d)*e)/j;return l=0!=e?(a-c-k*g)/e:(b-d-k*h)/f,isNaN(l)&&(l=(a-c-k*g)/e,isNaN(l)&&(l=(b-d-k*h)/f),isNaN(l)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+e),console.log("v1x != 0 ? "+(0!=e)))),null==i?new Array(l,k):(i[0]=l,i[1]=k,i)},x.prototype._$8P=function(){return this.x+.5*this.width},x.prototype._$6P=function(){return this.y+.5*this.height},x.prototype._$EL=function(){return this.x+this.width},x.prototype._$5T=function(){return this.y+this.height},x.prototype._$jL=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},x.prototype._$jL=function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},x.prototype.contains=function(a,b){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},x.prototype.expand=function(a,b){this.x-=a,this.y-=b,this.width+=2*a,this.height+=2*b},y._$Z2=function(a,b,c,d){var e=b._$Q2(a,c),f=a._$vs(),g=a._$Tr();if(b._$zr(f,g,e),e<=0)return d[f[0]];if(1==e){var h=d[f[0]],i=d[f[1]],j=g[0];return h+(i-h)*j|0}if(2==e){var h=d[f[0]],i=d[f[1]],k=d[f[2]],l=d[f[3]],j=g[0],m=g[1],n=h+(i-h)*j|0,o=k+(l-k)*j|0;return n+(o-n)*m|0}if(3==e){var p=d[f[0]],q=d[f[1]],r=d[f[2]],s=d[f[3]],t=d[f[4]],u=d[f[5]],v=d[f[6]],w=d[f[7]],j=g[0],m=g[1],x=g[2],h=p+(q-p)*j|0,i=r+(s-r)*j|0,k=t+(u-t)*j|0,l=v+(w-v)*j|0,n=h+(i-h)*m|0,o=k+(l-k)*m|0;return n+(o-n)*x|0}if(4==e){var y=d[f[0]],z=d[f[1]],A=d[f[2]],B=d[f[3]],C=d[f[4]],D=d[f[5]],E=d[f[6]],F=d[f[7]],G=d[f[8]],H=d[f[9]],I=d[f[10]],J=d[f[11]],K=d[f[12]],L=d[f[13]],M=d[f[14]],N=d[f[15]],j=g[0],m=g[1],x=g[2],O=g[3],p=y+(z-y)*j|0,q=A+(B-A)*j|0,r=C+(D-C)*j|0,s=E+(F-E)*j|0,t=G+(H-G)*j|0,u=I+(J-I)*j|0,v=K+(L-K)*j|0,w=M+(N-M)*j|0,h=p+(q-p)*m|0,i=r+(s-r)*m|0,k=t+(u-t)*m|0,l=v+(w-v)*m|0,n=h+(i-h)*x|0,o=k+(l-k)*x|0;return n+(o-n)*O|0}for(var P=1<<e,Q=new Float32Array(P),R=0;R<P;R++){for(var S=R,T=1,U=0;U<e;U++)T*=S%2==0?1-g[U]:g[U],S/=2;Q[R]=T}for(var V=new Float32Array(P),W=0;W<P;W++)V[W]=d[f[W]];for(var X=0,W=0;W<P;W++)X+=Q[W]*V[W];return X+.5|0},y._$br=function(a,b,c,d){var e=b._$Q2(a,c),f=a._$vs(),g=a._$Tr();if(b._$zr(f,g,e),e<=0)return d[f[0]];if(1==e){var h=d[f[0]],i=d[f[1]],j=g[0];return h+(i-h)*j}if(2==e){var h=d[f[0]],i=d[f[1]],k=d[f[2]],l=d[f[3]],j=g[0],m=g[1];return(1-m)*(h+(i-h)*j)+m*(k+(l-k)*j)}if(3==e){var n=d[f[0]],o=d[f[1]],p=d[f[2]],q=d[f[3]],r=d[f[4]],s=d[f[5]],t=d[f[6]],u=d[f[7]],j=g[0],m=g[1],v=g[2];return(1-v)*((1-m)*(n+(o-n)*j)+m*(p+(q-p)*j))+v*((1-m)*(r+(s-r)*j)+m*(t+(u-t)*j))}if(4==e){var w=d[f[0]],x=d[f[1]],y=d[f[2]],z=d[f[3]],A=d[f[4]],B=d[f[5]],C=d[f[6]],D=d[f[7]],E=d[f[8]],F=d[f[9]],G=d[f[10]],H=d[f[11]],I=d[f[12]],J=d[f[13]],K=d[f[14]],L=d[f[15]],j=g[0],m=g[1],v=g[2],M=g[3];return(1-M)*((1-v)*((1-m)*(w+(x-w)*j)+m*(y+(z-y)*j))+v*((1-m)*(A+(B-A)*j)+m*(C+(D-C)*j)))+M*((1-v)*((1-m)*(E+(F-E)*j)+m*(G+(H-G)*j))+v*((1-m)*(I+(J-I)*j)+m*(K+(L-K)*j)))}for(var N=1<<e,O=new Float32Array(N),P=0;P<N;P++){for(var Q=P,R=1,S=0;S<e;S++)R*=Q%2==0?1-g[S]:g[S],Q/=2;O[P]=R}for(var T=new Float32Array(N),U=0;U<N;U++)T[U]=d[f[U]];for(var V=0,U=0;U<N;U++)V+=O[U]*T[U];return V},y._$Vr=function(a,b,c,d,e,f,g,h){var i=b._$Q2(a,c),j=a._$vs(),k=a._$Tr();b._$zr(j,k,i);var l=2*d,m=g;if(i<=0){var n=j[0],o=e[n];if(2==h&&0==g)E._$jT(o,0,f,0,l);else for(var p=0;p<l;)f[m]=o[p++],f[m+1]=o[p++],m+=h}else if(1==i)for(var o=e[j[0]],q=e[j[1]],r=k[0],s=1-r,p=0;p<l;)f[m]=o[p]*s+q[p]*r,++p,f[m+1]=o[p]*s+q[p]*r,++p,m+=h;else if(2==i)for(var o=e[j[0]],q=e[j[1]],t=e[j[2]],u=e[j[3]],r=k[0],v=k[1],s=1-r,w=1-v,x=w*s,y=w*r,z=v*s,A=v*r,p=0;p<l;)f[m]=x*o[p]+y*q[p]+z*t[p]+A*u[p],++p,f[m+1]=x*o[p]+y*q[p]+z*t[p]+A*u[p],++p,m+=h;else if(3==i)for(var B=e[j[0]],C=e[j[1]],D=e[j[2]],F=e[j[3]],G=e[j[4]],H=e[j[5]],I=e[j[6]],J=e[j[7]],r=k[0],v=k[1],K=k[2],s=1-r,w=1-v,L=1-K,M=L*w*s,N=L*w*r,O=L*v*s,P=L*v*r,Q=K*w*s,R=K*w*r,S=K*v*s,T=K*v*r,p=0;p<l;)f[m]=M*B[p]+N*C[p]+O*D[p]+P*F[p]+Q*G[p]+R*H[p]+S*I[p]+T*J[p],++p,f[m+1]=M*B[p]+N*C[p]+O*D[p]+P*F[p]+Q*G[p]+R*H[p]+S*I[p]+T*J[p],++p,m+=h;else if(4==i)for(var U=e[j[0]],V=e[j[1]],W=e[j[2]],X=e[j[3]],Y=e[j[4]],Z=e[j[5]],$=e[j[6]],_=e[j[7]],aa=e[j[8]],ba=e[j[9]],ca=e[j[10]],da=e[j[11]],ea=e[j[12]],fa=e[j[13]],ga=e[j[14]],ha=e[j[15]],r=k[0],v=k[1],K=k[2],ia=k[3],s=1-r,w=1-v,L=1-K,ja=1-ia,ka=ja*L*w*s,la=ja*L*w*r,ma=ja*L*v*s,na=ja*L*v*r,oa=ja*K*w*s,pa=ja*K*w*r,qa=ja*K*v*s,ra=ja*K*v*r,sa=ia*L*w*s,ta=ia*L*w*r,ua=ia*L*v*s,va=ia*L*v*r,wa=ia*K*w*s,xa=ia*K*w*r,ya=ia*K*v*s,za=ia*K*v*r,p=0;p<l;)f[m]=ka*U[p]+la*V[p]+ma*W[p]+na*X[p]+oa*Y[p]+pa*Z[p]+qa*$[p]+ra*_[p]+sa*aa[p]+ta*ba[p]+ua*ca[p]+va*da[p]+wa*ea[p]+xa*fa[p]+ya*ga[p]+za*ha[p],++p,f[m+1]=ka*U[p]+la*V[p]+ma*W[p]+na*X[p]+oa*Y[p]+pa*Z[p]+qa*$[p]+ra*_[p]+sa*aa[p]+ta*ba[p]+ua*ca[p]+va*da[p]+wa*ea[p]+xa*fa[p]+ya*ga[p]+za*ha[p],++p,m+=h;else{for(var Aa=1<<i,Ba=new Float32Array(Aa),Ca=0;Ca<Aa;Ca++){for(var Da=Ca,Ea=1,Fa=0;Fa<i;Fa++)Ea*=Da%2==0?1-k[Fa]:k[Fa],Da/=2;Ba[Ca]=Ea}for(var Ga=new Float32Array(Aa),Ha=0;Ha<Aa;Ha++)Ga[Ha]=e[j[Ha]];for(var p=0;p<l;){for(var Ia=0,Ja=0,Ka=p+1,Ha=0;Ha<Aa;Ha++)Ia+=Ba[Ha]*Ga[Ha][p],Ja+=Ba[Ha]*Ga[Ha][Ka];p+=2,f[m]=Ia,f[m+1]=Ja,m+=h}}},z.prototype._$HT=function(a,b){this.x=a,this.y=b},z.prototype._$HT=function(a){this.x=a.x,this.y=a.y},A._$ur=-2,A._$ES=500,A._$wb=2,A._$8S=3,A._$52=A._$ES,A._$R2=A._$ES,A._$or=function(){return A._$52},A._$Pr=function(){return A._$R2},A.prototype.convertClipIDForV2_11=function(a){var b=[];return null==a?null:0==a.length?null:/,/.test(a)?b=a.id.split(","):(b.push(a.id),b)},A.prototype._$F0=function(a){this._$gP=a._$nP(),this._$dr=a._$nP(),this._$GS=a._$nP(),this._$qb=a._$6L(),this._$Lb=a._$cS(),this._$mS=a._$Tb(),a.getFormatVersion()>=P._$T7?(this.clipID=a._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},A.prototype.getClipIDList=function(){return this.clipIDList},A.prototype.init=function(a){},A.prototype._$Nr=function(a,b){if(b._$IS[0]=!1,b._$Us=y._$Z2(a,this._$GS,b._$IS,this._$Lb),ka._$Zs);else if(b._$IS[0])return;b._$7s=y._$br(a,this._$GS,b._$IS,this._$mS)},A.prototype._$2b=function(a,b){},A.prototype.getDrawDataID=function(){return this._$gP},A.prototype._$j2=function(a){this._$gP=a},A.prototype.getOpacity=function(a,b){return b._$7s},A.prototype._$zS=function(a,b){return b._$Us},A.prototype._$MS=function(a){for(var b=a.length-1;b>=0;--b){var c=a[b];c<A._$52?A._$52=c:c>A._$R2&&(A._$R2=c)}},A.prototype.getTargetBaseDataID=function(){return this._$dr},A.prototype._$gs=function(a){this._$dr=a},A.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ua._$2o()},A.prototype.preDraw=function(a,b,c){},A.prototype.draw=function(a,b,c){},A.prototype.getType=function(){},A.prototype._$B2=function(a,b,c){},B._$ps=32,B.CLIPPING_PROCESS_NONE=0,B.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,B.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,B.CLIPPING_PROCESS_DRAW=3,B.CLIPPING_PROCESS_CLEAR_ALPHA=4,B.prototype.setChannelFlagAsColor=function(a,b){this.CHANNEL_COLORS[a]=b},B.prototype.getChannelFlagAsColor=function(a){return this.CHANNEL_COLORS[a]},B.prototype._$ZT=function(){},B.prototype._$Uo=function(a,b,c,d,e,f,g){},B.prototype._$Rs=function(){return-1},B.prototype._$Ds=function(a){},B.prototype.setBaseColor=function(a,b,c,d){a<0?a=0:a>1&&(a=1),b<0?b=0:b>1&&(b=1),c<0?c=0:c>1&&(c=1),d<0?d=0:d>1&&(d=1),this._$lT=a,this._$C0=b,this._$tT=c,this._$WL=d},B.prototype._$WP=function(a){this.culling=a},B.prototype.setMatrix=function(a){for(var b=0;b<16;b++)this.matrix4x4[b]=a[b]},B.prototype._$IT=function(){return this.matrix4x4},B.prototype.setPremultipliedAlpha=function(a){this.premultipliedAlpha=a},B.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},B.prototype.setAnisotropy=function(a){this.anisotropy=a},B.prototype.getAnisotropy=function(){return this.anisotropy},B.prototype.getClippingProcess=function(){return this.clippingProcess},B.prototype.setClippingProcess=function(a){this.clippingProcess=a},B.prototype.setClipBufPre_clipContextForMask=function(a){this.clipBufPre_clipContextMask=a},B.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},B.prototype.setClipBufPre_clipContextForDraw=function(a){this.clipBufPre_clipContextDraw=a},B.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},D._$ur=-2,D._$c2=1,D._$_b=2,D.prototype._$F0=function(a){this._$kP=a._$nP(),this._$dr=a._$nP()},D.prototype.readV2_opacity=function(a){a.getFormatVersion()>=P.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=a._$Tb())},D.prototype.init=function(a){},D.prototype._$Nr=function(a,b){},D.prototype.interpolateOpacity=function(a,b,c,d){null==this._$mS?c.setInterpolatedOpacity(1):c.setInterpolatedOpacity(y._$br(a,b,d,this._$mS))},D.prototype._$2b=function(a,b){},D.prototype._$nb=function(a,b,c,d,e,f,g){},D.prototype.getType=function(){},D.prototype._$gs=function(a){this._$dr=a},D.prototype._$a2=function(a){this._$kP=a},D.prototype.getTargetBaseDataID=function(){return this._$dr},D.prototype.getBaseDataID=function(){return this._$kP},D.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ua._$2o()},E._$W2=0,E._$CS=E._$W2,E._$Mo=function(){return!0},E._$XP=function(a){try{for(var b=getTimeMSec();getTimeMSec()-b<a;);}catch(a){a._$Rb()}},E.getUserTimeMSec=function(){return E._$CS==E._$W2?E.getSystemTimeMSec():E._$CS},E.setUserTimeMSec=function(a){E._$CS=a},E.updateUserTimeMSec=function(){return E._$CS=E.getSystemTimeMSec()},E.getTimeMSec=function(){return(new Date).getTime()},E.getSystemTimeMSec=function(){return(new Date).getTime()},E._$Q=function(a){},E._$jT=function(a,b,c,d,e){for(var f=0;f<e;f++)c[d+f]=a[b+f]},F._$ds=-2,F.prototype._$F0=function(a){this._$wL=a._$nP(),this._$VP=a._$6L(),this._$GP=a._$nP()},F.prototype.getParamIndex=function(a){return this._$2r!=a&&(this._$8o=F._$ds),this._$8o},F.prototype._$Pb=function(a,b){this._$8o=a,this._$2r=b},F.prototype.getParamID=function(){return this._$wL},F.prototype._$yP=function(a){this._$wL=a},F.prototype._$N2=function(){return this._$VP},F.prototype._$d2=function(){return this._$GP},F.prototype._$t2=function(a,b){this._$VP=a,this._$GP=b},F.prototype._$Lr=function(){return this._$O2},F.prototype._$wr=function(a){this._$O2=a},F.prototype._$SL=function(){return this._$ri},F.prototype._$AL=function(a){this._$ri=a},G.startsWith=function(a,b,c){var d=b+c.length;if(d>=a.length)return!1;for(var e=b;e<d;e++)if(G.getChar(a,e)!=c.charAt(e-b))return!1;return!0},G.getChar=function(a,b){return String.fromCharCode(a.getUint8(b))},G.createString=function(a,b,c){for(var d=new ArrayBuffer(2*c),e=new Uint16Array(d),f=0;f<c;f++)e[f]=a.getUint8(b+f);return String.fromCharCode.apply(null,e)},G._$LS=function(a,b,c,d){a instanceof ArrayBuffer&&(a=new DataView(a));var e=c,f=!1,g=!1,h=0,i=G.getChar(a,e);"-"==i&&(f=!0,e++);for(var j=!1;e<b;e++){switch(i=G.getChar(a,e)){case"0":h*=10;break;case"1":h=10*h+1;break;case"2":h=10*h+2;break;case"3":h=10*h+3;break;case"4":h=10*h+4;break;case"5":h=10*h+5;break;case"6":h=10*h+6;break;case"7":h=10*h+7;break;case"8":h=10*h+8;break;case"9":h=10*h+9;break;case".":g=!0,e++,j=!0;break;default:j=!0}if(j)break}if(g)for(var k=.1,l=!1;e<b;e++){switch(i=G.getChar(a,e)){case"0":break;case"1":h+=1*k;break;case"2":h+=2*k;break;case"3":h+=3*k;break;case"4":h+=4*k;break;case"5":h+=5*k;break;case"6":h+=6*k;break;case"7":h+=7*k;break;case"8":h+=8*k;break;case"9":h+=9*k;break;default:l=!0}if(k*=.1,l)break}return f&&(h=-h),d[0]=e,h},H.prototype._$zP=function(){this._$Ob=new Array},H.prototype._$F0=function(a){this._$Ob=a._$nP()},H.prototype._$Ur=function(a){if(a._$WS())return!0;for(var b=a._$v2(),c=this._$Ob.length-1;c>=0;--c){var d=this._$Ob[c].getParamIndex(b);if(d==F._$ds&&(d=a.getParamIndex(this._$Ob[c].getParamID())),a._$Xb(d))return!0}return!1},H.prototype._$Q2=function(a,b){for(var f,g,c=this._$Ob.length,d=a._$v2(),e=0,h=0;h<c;h++){var i=this._$Ob[h];if(f=i.getParamIndex(d),f==F._$ds&&(f=a.getParamIndex(i.getParamID()),i._$Pb(f,d)),f<0)throw new Exception("err 23242 : "+i.getParamID());var j=f<0?0:a.getParamFloat(f);g=i._$N2();var n,o,k=i._$d2(),l=-1,m=0;if(g<1);else if(1==g)n=k[0],n-O._$J<j&&j<n+O._$J?(l=0,m=0):(l=0,b[0]=!0);else if(n=k[0],j<n-O._$J)l=0,b[0]=!0;else if(j<n+O._$J)l=0;else{for(var p=!1,q=1;q<g;++q){if(o=k[q],j<o+O._$J){o-O._$J<j?l=q:(l=q-1,m=(j-n)/(o-n),e++),p=!0;break}n=o}p||(l=g-1,m=0,b[0]=!0)}i._$wr(l),i._$AL(m)}return e},H.prototype._$zr=function(a,b,c){var d=1<<c;d+1>O._$Qb&&console.log("err 23245\n");for(var e=this._$Ob.length,f=1,g=1,h=0,i=0;i<d;++i)a[i]=0;for(var j=0;j<e;++j){var k=this._$Ob[j];if(0==k._$SL()){var l=k._$Lr()*f;if(l<0&&ka._$3T)throw new Exception("err 23246");for(var i=0;i<d;++i)a[i]+=l}else{for(var l=f*k._$Lr(),m=f*(k._$Lr()+1),i=0;i<d;++i)a[i]+=(i/g|0)%2==0?l:m;b[h++]=k._$SL(),g*=2}f*=k._$N2()}a[d]=65535,b[h]=-1},H.prototype._$h2=function(a,b,c){for(var d=new Float32Array(b),e=0;e<b;++e)d[e]=c[e];var f=new F;f._$yP(a),f._$t2(b,d),this._$Ob.push(f)},H.prototype._$J2=function(a){for(var b=a,c=this._$Ob.length,d=0;d<c;++d){var e=this._$Ob[d],f=e._$N2(),g=b%e._$N2(),h=e._$d2()[g];console.log("%s[%d]=%7.2f / ",e.getParamID(),g,h),b/=f}console.log("\n")},H.prototype.getParamCount=function(){return this._$Ob.length},H.prototype._$zs=function(){return this._$Ob},I.prototype.identity=function(){for(var a=0;a<16;a++)this.m[a]=a%5==0?1:0},I.prototype.getArray=function(){return this.m},I.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},I.prototype.setMatrix=function(a){if(null!=a&&16==a.length)for(var b=0;b<16;b++)this.m[b]=a[b]},I.prototype.mult=function(a,b,c){return null==b?null:(this==b?this.mult_safe(this.m,a.m,b.m,c):this.mult_fast(this.m,a.m,b.m,c),b)},I.prototype.mult_safe=function(a,b,c,d){if(a==c){var e=new Array(16);this.mult_fast(a,b,e,d);for(var f=15;f>=0;--f)c[f]=e[f]}else this.mult_fast(a,b,c,d)},I.prototype.mult_fast=function(a,b,c,d){d?(c[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2],c[4]=a[0]*b[4]+a[4]*b[5]+a[8]*b[6],c[8]=a[0]*b[8]+a[4]*b[9]+a[8]*b[10],c[12]=a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12],c[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2],c[5]=a[1]*b[4]+a[5]*b[5]+a[9]*b[6],c[9]=a[1]*b[8]+a[5]*b[9]+a[9]*b[10],c[13]=a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13],c[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2],c[6]=a[2]*b[4]+a[6]*b[5]+a[10]*b[6],c[10]=a[2]*b[8]+a[6]*b[9]+a[10]*b[10],c[14]=a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14],c[3]=c[7]=c[11]=0,c[15]=1):(c[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],c[4]=a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],c[8]=a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],c[12]=a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],c[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],c[5]=a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],c[9]=a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],c[13]=a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],c[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],c[6]=a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],c[10]=a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],c[14]=a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],c[3]=a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],c[7]=a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],c[11]=a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],c[15]=a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15])},I.prototype.translate=function(a,b,c){this.m[12]=this.m[0]*a+this.m[4]*b+this.m[8]*c+this.m[12],this.m[13]=this.m[1]*a+this.m[5]*b+this.m[9]*c+this.m[13],this.m[14]=this.m[2]*a+this.m[6]*b+this.m[10]*c+this.m[14],this.m[15]=this.m[3]*a+this.m[7]*b+this.m[11]*c+this.m[15]},I.prototype.scale=function(a,b,c){this.m[0]*=a,this.m[4]*=b,this.m[8]*=c,this.m[1]*=a,this.m[5]*=b,this.m[9]*=c,this.m[2]*=a,this.m[6]*=b,this.m[10]*=c,this.m[3]*=a,this.m[7]*=b,this.m[11]*=c},I.prototype.rotateX=function(a){var b=Ba.fcos(a),c=Ba._$9(a),d=this.m[4];this.m[4]=d*b+this.m[8]*c,this.m[8]=d*-c+this.m[8]*b,d=this.m[5],this.m[5]=d*b+this.m[9]*c,this.m[9]=d*-c+this.m[9]*b,d=this.m[6],this.m[6]=d*b+this.m[10]*c,this.m[10]=d*-c+this.m[10]*b,d=this.m[7],this.m[7]=d*b+this.m[11]*c,this.m[11]=d*-c+this.m[11]*b},I.prototype.rotateY=function(a){var b=Ba.fcos(a),c=Ba._$9(a),d=this.m[0];this.m[0]=d*b+this.m[8]*-c,this.m[8]=d*c+this.m[8]*b,d=this.m[1],this.m[1]=d*b+this.m[9]*-c,this.m[9]=d*c+this.m[9]*b,d=m[2],this.m[2]=d*b+this.m[10]*-c,this.m[10]=d*c+this.m[10]*b,d=m[3],this.m[3]=d*b+this.m[11]*-c,this.m[11]=d*c+this.m[11]*b},I.prototype.rotateZ=function(a){var b=Ba.fcos(a),c=Ba._$9(a),d=this.m[0];this.m[0]=d*b+this.m[4]*c,this.m[4]=d*-c+this.m[4]*b,d=this.m[1],this.m[1]=d*b+this.m[5]*c,this.m[5]=d*-c+this.m[5]*b,d=this.m[2],this.m[2]=d*b+this.m[6]*c,this.m[6]=d*-c+this.m[6]*b,d=this.m[3],this.m[3]=d*b+this.m[7]*c,this.m[7]=d*-c+this.m[7]*b},J.prototype=new ea,J._$tP=new Object,J._$27=function(){J._$tP.clear()},J.getID=function(a){var b=J._$tP[a];return null==b&&(b=new J(a),J._$tP[a]=b),b},J.prototype._$3s=function(){return new J},K._$kS=-1,K._$pS=0,K._$hb=1,K.STATE_IDENTITY=0,K._$gb=1,K._$fo=2,K._$go=4,K.prototype.transform=function(a,b,c){var d,e,f,g,h,i,j=0,k=0;switch(this._$hi){default:return;case K._$go|K._$fo|K._$gb:for(d=this._$7,e=this._$H,f=this._$k,g=this._$f,h=this._$g,i=this._$w;--c>=0;){var l=a[j++],m=a[j++];b[k++]=d*l+e*m+f,b[k++]=g*l+h*m+i}return;case K._$go|K._$fo:for(d=this._$7,e=this._$H,g=this._$f,h=this._$g;--c>=0;){var l=a[j++],m=a[j++];b[k++]=d*l+e*m,b[k++]=g*l+h*m}return;case K._$go|K._$gb:for(e=this._$H,f=this._$k,g=this._$f,i=this._$w;--c>=0;){var l=a[j++];b[k++]=e*a[j++]+f,b[k++]=g*l+i}return;case K._$go:for(e=this._$H,g=this._$f;--c>=0;){var l=a[j++];b[k++]=e*a[j++],b[k++]=g*l}return;case K._$fo|K._$gb:for(d=this._$7,f=this._$k,h=this._$g,i=this._$w;--c>=0;)b[k++]=d*a[j++]+f,b[k++]=h*a[j++]+i;return;case K._$fo:for(d=this._$7,h=this._$g;--c>=0;)b[k++]=d*a[j++],b[k++]=h*a[j++];return;case K._$gb:for(f=this._$k,i=this._$w;--c>=0;)b[k++]=a[j++]+f,b[k++]=a[j++]+i;return;case K.STATE_IDENTITY:return void(a==b&&j==k||E._$jT(a,j,b,k,2*c))}},K.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=K.STATE_IDENTITY,this._$Z=K._$pS):(this._$hi=K._$gb,this._$Z=K._$hb):0==this._$k&&0==this._$w?(this._$hi=K._$fo,this._$Z=K._$kS):(this._$hi=K._$fo|K._$gb,this._$Z=K._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=K._$go,this._$Z=K._$kS):(this._$hi=K._$go|K._$gb,this._$Z=K._$kS):0==this._$k&&0==this._$w?(this._$hi=K._$go|K._$fo,this._$Z=K._$kS):(this._$hi=K._$go|K._$fo|K._$gb,this._$Z=K._$kS)},K.prototype._$RT=function(a){this._$IT(a);var b=a[0],c=a[2],d=a[1],e=a[3],f=Math.sqrt(b*b+d*d),g=b*e-c*d;0==f?ka._$so&&console.log("affine._$RT() / rt==0"):(a[0]=f,a[1]=g/f,a[2]=(d*e+b*c)/g,a[3]=Math.atan2(d,b))},K.prototype._$ho=function(a,b,c,d){var e=new Float32Array(6),f=new Float32Array(6);a._$RT(e),b._$RT(f);var g=new Float32Array(6);g[0]=e[0]+(f[0]-e[0])*c,g[1]=e[1]+(f[1]-e[1])*c,g[2]=e[2]+(f[2]-e[2])*c,g[3]=e[3]+(f[3]-e[3])*c,g[4]=e[4]+(f[4]-e[4])*c,g[5]=e[5]+(f[5]-e[5])*c,d._$CT(g)},K.prototype._$CT=function(a){var b=Math.cos(a[3]),c=Math.sin(a[3]);this._$7=a[0]*b,this._$f=a[0]*c,this._$H=a[1]*(a[2]*b-c),this._$g=a[1]*(a[2]*c+b),this._$k=a[4],this._$w=a[5],this.update()},K.prototype._$IT=function(a){a[0]=this._$7,a[1]=this._$f,a[2]=this._$H,a[3]=this._$g,a[4]=this._$k,a[5]=this._$w},L.prototype=new g,L._$cs="VISIBLE:",L._$ar="LAYOUT:",L._$Co=0,L._$D2=[],L._$1T=1,L.loadMotion=function(a){var b=new L,c=[0],d=a.length;b._$yT=0;for(var e=0;e<d;++e){var f=255&a[e];if("\n"!=f&&"\r"!=f)if("#"!=f)if("$"!=f){if("a"<=f&&f<="z"||"A"<=f&&f<="Z"||"_"==f){for(var g=e,h=-1;e<d&&(f=255&a[e],"\r"!=f&&"\n"!=f);++e)if("="==f){h=e;break}if(h>=0){var k=new N;G.startsWith(a,g,L._$cs)?(k._$RP=N._$hs,k._$4P=new String(a,g,h-g)):G.startsWith(a,g,L._$ar)?(k._$4P=new String(a,g+7,h-g-7),G.startsWith(a,g+7,"ANCHOR_X")?k._$RP=N._$xs:G.startsWith(a,g+7,"ANCHOR_Y")?k._$RP=N._$us:G.startsWith(a,g+7,"SCALE_X")?k._$RP=N._$qs:G.startsWith(a,g+7,"SCALE_Y")?k._$RP=N._$Ys:G.startsWith(a,g+7,"X")?k._$RP=N._$ws:G.startsWith(a,g+7,"Y")&&(k._$RP=N._$Ns)):(k._$RP=N._$Fr,k._$4P=new String(a,g,h-g)),b.motions.push(k);var l=0;for(L._$D2.clear(),e=h+1;e<d&&(f=255&a[e],"\r"!=f&&"\n"!=f);++e)if(","!=f&&" "!=f&&"\t"!=f){var j=G._$LS(a,d,e,c);if(c[0]>0){L._$D2.push(j),l++;var m=c[0];if(m<e){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=m}}k._$I0=L._$D2._$BL(),l>b._$yT&&(b._$yT=l)}}}else{for(var g=e,h=-1;e<d&&(f=255&a[e],"\r"!=f&&"\n"!=f);++e)if("="==f){h=e;break}var i=!1;if(h>=0)for(h==g+4&&"f"==a[g+1]&&"p"==a[g+2]&&"s"==a[g+3]&&(i=!0),e=h+1;e<d&&(f=255&a[e],"\r"!=f&&"\n"!=f);++e)if(","!=f&&" "!=f&&"\t"!=f){var j=G._$LS(a,d,e,c);c[0]>0&&i&&5<j&&j<121&&(b._$D0=j),e=c[0]}for(;e<d&&("\n"!=a[e]&&"\r"!=a[e]);++e);}else for(;e<d&&("\n"!=a[e]&&"\r"!=a[e]);++e);}return b._$AS=1e3*b._$yT/b._$D0|0,b},L.prototype.getDurationMSec=function(){return this._$AS},L.prototype.dump=function(){for(var a=0;a<this.motions.length;a++){var b=this.motions[a];console.log("_$wL[%s] [%d]. ",b._$4P,b._$I0.length);for(var c=0;c<b._$I0.length&&c<10;c++)console.log("%5.2f ,",b._$I0[c]);console.log("\n")}},L.prototype.updateParamExe=function(a,b,c,d){for(var e=b-d._$z2,f=e*this._$D0/1e3,g=0|f,h=f-g,i=0;i<this.motions.length;i++){var j=this.motions[i],k=j._$I0.length,l=j._$4P;if(j._$RP==N._$hs){var m=j._$I0[g>=k?k-1:g];a.setParamFloat(l,m)}else if(N._$ws<=j._$RP&&j._$RP<=N._$Ys);else{var n=a.getParamFloat(l),o=j._$I0[g>=k?k-1:g],p=j._$I0[g+1>=k?k-1:g+1],q=o+(p-o)*h,r=n+(q-n)*c;a.setParamFloat(l,r)}}g>=this._$yT&&(this._$E?(d._$z2=b,this.loopFadeIn&&(d._$bs=b)):d._$9L=!0)},L.prototype._$r0=function(){return this._$E},L.prototype._$aL=function(a){this._$E=a},L.prototype.isLoopFadeIn=function(){return this.loopFadeIn},L.prototype.setLoopFadeIn=function(a){this.loopFadeIn=a},M.prototype.clear=function(){this.size=0},M.prototype.add=function(a){if(this._$P.length<=this.size){var b=new Float32Array(2*this.size);E._$jT(this._$P,0,b,0,this.size),this._$P=b}this._$P[this.size++]=a},M.prototype._$BL=function(){var a=new Float32Array(this.size);return E._$jT(this._$P,0,a,0,this.size),a},N._$Fr=0,N._$hs=1,N._$ws=100,N._$Ns=101,N._$xs=102,N._$us=103,N._$qs=104,N._$Ys=105,O._$Ms=1,O._$Qs=2,O._$i2=0,O._$No=2,O._$do=O._$Ms,O._$Ls=!0,O._$1r=5,O._$Qb=65,O._$J=1e-4,O._$FT=.001,O._$Ss=3,P._$o7=6,P._$S7=7,P._$s7=8,P._$77=9,P.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,P.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,P._$T7=P.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,P._$Is=-2004318072,P._$h0=0,P._$4L=23,P._$7P=33,P._$uT=function(a){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",a)},P._$9o=function(a){if(a<40)return P._$uT(a),null;if(a<50)return P._$uT(a),null;if(a<60)return P._$uT(a),null;if(a<100)switch(a){case 65:return new aa;case 66:return new H;case 67:return new F;case 68:return new V;case 69:return new v;case 70:return new na;default:return P._$uT(a),null}else if(a<150)switch(a){case 131:return new ia;case 133:return new ca;case 136:return new o;case 137:return new ga;case 142:return new Y}return P._$uT(a),null},Q._$HP=0,Q._$_0=!0;Q._$V2=-1;Q._$W0=-1,Q._$jr=!1,Q._$ZS=!0,Q._$tr=-1e6,Q._$lr=1e6,Q._$is=32,Q._$e=!1,Q.prototype.getDrawDataIndex=function(a){for(var b=this._$aS.length-1;b>=0;--b)if(null!=this._$aS[b]&&this._$aS[b].getDrawDataID()==a)return b;return-1},Q.prototype.getDrawData=function(a){if(a instanceof J){if(null==this._$Bo){this._$Bo=new Object;for(var b=this._$aS.length,c=0;c<b;c++){var d=this._$aS[c],e=d.getDrawDataID();null!=e&&(this._$Bo[e]=d)}}return this._$Bo[id]}return a<this._$aS.length?this._$aS[a]:null},Q.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},Q.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var a=this._$Ri.getModelImpl(),b=a._$Xr(),d=b.length,e=new Array,f=new Array,g=0;g<d;++g){var h=b[g];this._$F2.push(h),this._$Hr.push(h.init(this));for(var i=h.getBaseData(),j=i.length,k=0;k<j;++k)e.push(i[k]);for(var k=0;k<j;++k){var l=i[k].init(this);l._$l2(g),f.push(l)}for(var m=h.getDrawData(),n=m.length,k=0;k<n;++k){var o=m[k],p=o.init(this);p._$IP=g,this._$aS.push(o),this._$8b.push(p)}}for(var q=e.length,r=ua._$2o();;){for(var s=!1,g=0;g<q;++g){var t=e[g];if(null!=t){var u=t.getTargetBaseDataID();(null==u||u==r||this.getBaseDataIndex(u)>=0)&&(this._$3S.push(t),this._$db.push(f[g]),e[g]=null,s=!0)}}if(!s)break}var v=a._$E2();if(null!=v){var w=v._$1s();if(null!=w)for(var x=w.length,g=0;g<x;++g){var y=w[g];null!=y&&this._$02(y.getParamID(),y.getDefaultValue(),y.getMinValue(),y.getMaxValue())}}this.clipManager=new c(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},Q.prototype.update=function(){Q._$e&&h.start("_$zL");for(var a=this._$_2.length,b=0;b<a;b++)this._$_2[b]!=this._$vr[b]&&(this._$Js[b]=Q._$ZS,this._$vr[b]=this._$_2[b]);var c=!1,d=this._$3S.length,e=this._$aS.length,f=X._$or(),g=X._$Pr(),i=g-f+1;(null==this._$Ws||this._$Ws.length<i)&&(this._$Ws=new Int16Array(i),this._$Vs=new Int16Array(i));for(var b=0;b<i;b++)this._$Ws[b]=Q._$V2,this._$Vs[b]=Q._$V2;(null==this._$Er||this._$Er.length<e)&&(this._$Er=new Int16Array(e));for(var b=0;b<e;b++)this._$Er[b]=Q._$W0;Q._$e&&h.dump("_$zL"),Q._$e&&h.start("_$UL");for(var j=null,k=0;k<d;++k){var l=this._$3S[k],m=this._$db[k];try{l._$Nr(this,m),l._$2b(this,m)}catch(a){null==j&&(j=a)}}null!=j&&Q._$_0&&h._$Rb(j),Q._$e&&h.dump("_$UL"),Q._$e&&h.start("_$DL");for(var n=null,o=0;o<e;++o){var p=this._$aS[o],q=this._$8b[o];try{if(p._$Nr(this,q),q._$u2())continue;p._$2b(this,q);var s,r=Math.floor(p._$zS(this,q)-f);try{s=this._$Vs[r]}catch(a){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",a.toString(),p.getDrawDataID().toString()),r=Math.floor(p._$zS(this,q)-f);continue}s==Q._$V2?this._$Ws[r]=o:this._$Er[s]=o,this._$Vs[r]=o}catch(a){null==n&&(n=a,ka._$sT(ka._$H7))}}null!=n&&Q._$_0&&h._$Rb(n),Q._$e&&h.dump("_$DL"),Q._$e&&h.start("_$eL");for(var b=this._$Js.length-1;b>=0;b--)this._$Js[b]=Q._$jr;return this._$QT=!1,Q._$e&&h.dump("_$eL"),c},Q.prototype.preDraw=function(a){null!=this.clipManager&&(a._$ZT(),this.clipManager.setupClip(this,a))},Q.prototype.draw=function(a){if(null==this._$Ws)return void h._$li("call _$Ri.update() before _$Ri.draw() ");var b=this._$Ws.length;a._$ZT();for(var c=0;c<b;++c){var d=this._$Ws[c];if(d!=Q._$V2)for(;;){var e=this._$aS[d],f=this._$8b[d];if(f._$yo()){var g=f._$IP,i=this._$Hr[g];f._$VS=i.getPartsOpacity(),e.draw(a,this,f)}var j=this._$Er[d];if(j<=d||j==Q._$W0)break;d=j}}},Q.prototype.getParamIndex=function(a){for(var b=this._$pb.length-1;b>=0;--b)if(this._$pb[b]==a)return b;return this._$02(a,0,Q._$tr,Q._$lr)},Q.prototype._$BS=function(a){return this.getBaseDataIndex(a)},Q.prototype.getBaseDataIndex=function(a){for(var b=this._$3S.length-1;b>=0;--b)if(null!=this._$3S[b]&&this._$3S[b].getBaseDataID()==a)return b;return-1},Q.prototype._$UT=function(a,b){var c=new Float32Array(b);return E._$jT(a,0,c,0,a.length),c},Q.prototype._$02=function(a,b,c,d){if(this._$qo>=this._$pb.length){var e=this._$pb.length,f=new Array(2*e);E._$jT(this._$pb,0,f,0,e),this._$pb=f,this._$_2=this._$UT(this._$_2,2*e),this._$vr=this._$UT(this._$vr,2*e),this._$Rr=this._$UT(this._$Rr,2*e),this._$Or=this._$UT(this._$Or,2*e);var g=new Array;E._$jT(this._$Js,0,g,0,e),this._$Js=g}return this._$pb[this._$qo]=a,this._$_2[this._$qo]=b,this._$vr[this._$qo]=b,this._$Rr[this._$qo]=c,this._$Or[this._$qo]=d,this._$Js[this._$qo]=Q._$ZS,this._$qo++},Q.prototype._$Zo=function(a,b){this._$3S[a]=b},Q.prototype.setParamFloat=function(a,b){b<this._$Rr[a]&&(b=this._$Rr[a]),b>this._$Or[a]&&(b=this._$Or[a]),this._$_2[a]=b},Q.prototype.loadParam=function(){var a=this._$_2.length;a>this._$fs.length&&(a=this._$fs.length),E._$jT(this._$fs,0,this._$_2,0,a)},Q.prototype.saveParam=function(){var a=this._$_2.length;a>this._$fs.length&&(this._$fs=new Float32Array(a)),E._$jT(this._$_2,0,this._$fs,0,a)},Q.prototype._$v2=function(){return this._$co},Q.prototype._$WS=function(){return this._$QT},Q.prototype._$Xb=function(a){return this._$Js[a]==Q._$ZS},Q.prototype._$vs=function(){return this._$Es},Q.prototype._$Tr=function(){return this._$ZP},Q.prototype.getBaseData=function(a){return this._$3S[a]},Q.prototype.getParamFloat=function(a){return this._$_2[a]},Q.prototype.getParamMax=function(a){return this._$Or[a]},Q.prototype.getParamMin=function(a){return this._$Rr[a]},Q.prototype.setPartsOpacity=function(a,b){var c=this._$Hr[a];c.setPartsOpacity(b)},Q.prototype.getPartsOpacity=function(a){var b=this._$Hr[a];return b.getPartsOpacity()},Q.prototype.getPartsDataIndex=function(a){for(var b=this._$F2.length-1;b>=0;--b)if(null!=this._$F2[b]&&this._$F2[b]._$p2()==a)return b;return-1},Q.prototype._$q2=function(a){return this._$db[a]},Q.prototype._$C2=function(a){return this._$8b[a]},Q.prototype._$Bb=function(a){return this._$Hr[a]},Q.prototype._$5s=function(a,b){for(var c=this._$Ws.length,d=a,e=0;e<c;++e){var f=this._$Ws[e];if(f!=Q._$V2)for(;;){var g=this._$8b[f];g._$yo()&&(g._$GT()._$B2(this,g,d),d+=b);var h=this._$Er[f];if(h<=f||h==Q._$W0)break;f=h}}},Q.prototype.setDrawParam=function(a){this.dp_webgl=a},Q.prototype.getDrawParam=function(){return this.dp_webgl},R._$0T=function(a){return R._$0T(new _$5(a))},R._$0T=function(a){if(!a.exists())throw new _$ls(a._$3b());for(var e,b=a.length(),c=new Int8Array(b),d=new _$Xs(new _$kb(a),8192),f=0;(e=d.read(c,f,b-f))>0;)f+=e;return c},R._$C=function(a){var b=null,c=null;try{b=a instanceof Array?a:new _$Xs(a,8192),c=new _$js;for(var e,d=1e3,f=new Int8Array(d);(e=b.read(f))>0;)c.write(f,0,e);return c._$TS()}finally{null!=a&&a.close(),null!=c&&(c.flush(),c.close())}},S.prototype._$T2=function(){var a=E.getUserTimeMSec(),b=Math._$10();return a+b*(2*this._$Br-1)},S.prototype._$uo=function(a){this._$Br=a},S.prototype._$QS=function(a,b,c){this._$Dr=a,this._$Cb=b,this._$mr=c},S.prototype._$7T=function(a){var c,b=E.getUserTimeMSec(),d=0;switch(this._$_L){case STATE_CLOSING:d=(b-this._$bb)/this._$Dr,d>=1&&(d=1,this._$_L=T.STATE_CLOSED,this._$bb=b),c=1-d;break;case STATE_CLOSED:d=(b-this._$bb)/this._$Cb,d>=1&&(this._$_L=T.STATE_OPENING,this._$bb=b),c=0;break;case STATE_OPENING:d=(b-this._$bb)/this._$mr,d>=1&&(d=1,this._$_L=T.STATE_INTERVAL,this._$12=this._$T2()),c=d;break;case STATE_INTERVAL:this._$12<b&&(this._$_L=T.STATE_CLOSING,this._$bb=b),c=1;break;case STATE_FIRST:default:this._$_L=T.STATE_INTERVAL,this._$12=this._$T2(),c=1}this._$jo||(c=-c),a.setParamFloat(this._$iL,c),a.setParamFloat(this._$0L,c)};var T=function(){};T.STATE_FIRST="STATE_FIRST",T.STATE_INTERVAL="STATE_INTERVAL",T.STATE_CLOSING="STATE_CLOSING",T.STATE_CLOSED="STATE_CLOSED",T.STATE_OPENING="STATE_OPENING",U.prototype=new B,U._$As=32,U._$Gr=!1,U._$NT=null,U._$vS=null,U._$no=null,U._$9r=function(a){var b=new Float32Array(a);return b},U._$vb=function(a){var b=new Int16Array(a);return b},U._$cr=function(a,b){return null==a||a._$yL()<b.length?(a=U._$9r(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},U._$mb=function(a,b){return null==a||a._$yL()<b.length?(a=U._$vb(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},U._$Hs=function(){return U._$Gr},U._$as=function(a){U._$Gr=a},U.prototype.setGL=function(a){this.gl=a},U.prototype.setTransform=function(a){this.transform=a},U.prototype._$ZT=function(){},U.prototype._$Uo=function(a,b,c,d,e,f,g,h){if(!(f<.01)){var i=this._$U2[a],j=f>.9?ka.EXPAND_W:0;this.gl.drawElements(i,c,d,e,f,j,this.transform,h)}},U.prototype._$Rs=function(){throw new Error("_$Rs")},U.prototype._$Ds=function(a){throw new Error("_$Ds")},U.prototype._$K2=function(){for(var a=0;a<this._$sb.length;a++){var b=this._$sb[a];0!=b&&(this.gl._$Sr(1,this._$sb,a),this._$sb[a]=0)}},U.prototype.setTexture=function(a,b){this._$sb.length<a+1&&this._$nS(a),this._$sb[a]=b},U.prototype.setTexture=function(a,b){this._$sb.length<a+1&&this._$nS(a),this._$U2[a]=b},U.prototype._$nS=function(a){var b=Math.max(2*this._$sb.length,a+1+10),c=new Int32Array(b);E._$jT(this._$sb,0,c,0,this._$sb.length),this._$sb=c;var d=new Array;E._$jT(this._$U2,0,d,0,this._$U2.length),this._$U2=d},V.prototype=new D,V._$Xo=new Float32Array(2),V._$io=new Float32Array(2),V._$0o=new Float32Array(2),V._$Lo=new Float32Array(2),V._$To=new Float32Array(2),V._$Po=new Float32Array(2),V._$gT=new Array,V.prototype._$zP=function(){this._$GS=new H,this._$GS._$zP(),this._$Y0=new Array},V.prototype.getType=function(){return D._$c2},V.prototype._$F0=function(a){D.prototype._$F0.call(this,a),this._$GS=a._$nP(),this._$Y0=a._$nP(),D.prototype.readV2_opacity.call(this,a)},V.prototype.init=function(a){var b=new W(this);return b._$Yr=new v,this._$32()&&(b._$Wr=new v),b},V.prototype._$Nr=function(a,b){this!=b._$GT()&&console.log("### assert!! ### ");var c=b;if(this._$GS._$Ur(a)){var d=V._$gT;d[0]=!1;var e=this._$GS._$Q2(a,d);b._$Ib(d[0]),this.interpolateOpacity(a,this._$GS,b,d);var f=a._$vs(),g=a._$Tr();if(this._$GS._$zr(f,g,e),e<=0){var h=this._$Y0[f[0]];c._$Yr.init(h)}else if(1==e){var h=this._$Y0[f[0]],i=this._$Y0[f[1]],j=g[0];c._$Yr._$fL=h._$fL+(i._$fL-h._$fL)*j,c._$Yr._$gL=h._$gL+(i._$gL-h._$gL)*j,c._$Yr._$B0=h._$B0+(i._$B0-h._$B0)*j,c._$Yr._$z0=h._$z0+(i._$z0-h._$z0)*j,c._$Yr._$qT=h._$qT+(i._$qT-h._$qT)*j}else if(2==e){var h=this._$Y0[f[0]],i=this._$Y0[f[1]],k=this._$Y0[f[2]],l=this._$Y0[f[3]],j=g[0],m=g[1],n=h._$fL+(i._$fL-h._$fL)*j,o=k._$fL+(l._$fL-k._$fL)*j;c._$Yr._$fL=n+(o-n)*m,n=h._$gL+(i._$gL-h._$gL)*j,o=k._$gL+(l._$gL-k._$gL)*j,c._$Yr._$gL=n+(o-n)*m,n=h._$B0+(i._$B0-h._$B0)*j,o=k._$B0+(l._$B0-k._$B0)*j,c._$Yr._$B0=n+(o-n)*m,n=h._$z0+(i._$z0-h._$z0)*j,o=k._$z0+(l._$z0-k._$z0)*j,c._$Yr._$z0=n+(o-n)*m,n=h._$qT+(i._$qT-h._$qT)*j,o=k._$qT+(l._$qT-k._$qT)*j,c._$Yr._$qT=n+(o-n)*m}else if(3==e){var p=this._$Y0[f[0]],q=this._$Y0[f[1]],r=this._$Y0[f[2]],s=this._$Y0[f[3]],t=this._$Y0[f[4]],u=this._$Y0[f[5]],v=this._$Y0[f[6]],w=this._$Y0[f[7]],j=g[0],m=g[1],x=g[2],n=p._$fL+(q._$fL-p._$fL)*j,o=r._$fL+(s._$fL-r._$fL)*j,y=t._$fL+(u._$fL-t._$fL)*j,z=v._$fL+(w._$fL-v._$fL)*j;c._$Yr._$fL=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$gL+(q._$gL-p._$gL)*j,o=r._$gL+(s._$gL-r._$gL)*j,y=t._$gL+(u._$gL-t._$gL)*j,z=v._$gL+(w._$gL-v._$gL)*j,c._$Yr._$gL=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$B0+(q._$B0-p._$B0)*j,o=r._$B0+(s._$B0-r._$B0)*j,y=t._$B0+(u._$B0-t._$B0)*j,z=v._$B0+(w._$B0-v._$B0)*j,c._$Yr._$B0=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$z0+(q._$z0-p._$z0)*j,o=r._$z0+(s._$z0-r._$z0)*j,y=t._$z0+(u._$z0-t._$z0)*j,z=v._$z0+(w._$z0-v._$z0)*j,c._$Yr._$z0=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$qT+(q._$qT-p._$qT)*j,o=r._$qT+(s._$qT-r._$qT)*j,y=t._$qT+(u._$qT-t._$qT)*j,z=v._$qT+(w._$qT-v._$qT)*j,c._$Yr._$qT=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m)}else if(4==e){var A=this._$Y0[f[0]],B=this._$Y0[f[1]],C=this._$Y0[f[2]],D=this._$Y0[f[3]],E=this._$Y0[f[4]],F=this._$Y0[f[5]],G=this._$Y0[f[6]],H=this._$Y0[f[7]],I=this._$Y0[f[8]],J=this._$Y0[f[9]],K=this._$Y0[f[10]],L=this._$Y0[f[11]],M=this._$Y0[f[12]],N=this._$Y0[f[13]],O=this._$Y0[f[14]],P=this._$Y0[f[15]],j=g[0],m=g[1],x=g[2],Q=g[3],n=A._$fL+(B._$fL-A._$fL)*j,o=C._$fL+(D._$fL-C._$fL)*j,y=E._$fL+(F._$fL-E._$fL)*j,z=G._$fL+(H._$fL-G._$fL)*j,R=I._$fL+(J._$fL-I._$fL)*j,S=K._$fL+(L._$fL-K._$fL)*j,T=M._$fL+(N._$fL-M._$fL)*j,U=O._$fL+(P._$fL-O._$fL)*j;c._$Yr._$fL=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(T+(U-T)*m)),n=A._$gL+(B._$gL-A._$gL)*j,o=C._$gL+(D._$gL-C._$gL)*j,y=E._$gL+(F._$gL-E._$gL)*j,z=G._$gL+(H._$gL-G._$gL)*j,R=I._$gL+(J._$gL-I._$gL)*j,S=K._$gL+(L._$gL-K._$gL)*j,T=M._$gL+(N._$gL-M._$gL)*j,U=O._$gL+(P._$gL-O._$gL)*j,c._$Yr._$gL=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(T+(U-T)*m)),n=A._$B0+(B._$B0-A._$B0)*j,o=C._$B0+(D._$B0-C._$B0)*j,y=E._$B0+(F._$B0-E._$B0)*j,z=G._$B0+(H._$B0-G._$B0)*j,R=I._$B0+(J._$B0-I._$B0)*j,S=K._$B0+(L._$B0-K._$B0)*j,T=M._$B0+(N._$B0-M._$B0)*j,U=O._$B0+(P._$B0-O._$B0)*j,c._$Yr._$B0=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(T+(U-T)*m)),n=A._$z0+(B._$z0-A._$z0)*j,o=C._$z0+(D._$z0-C._$z0)*j,y=E._$z0+(F._$z0-E._$z0)*j,z=G._$z0+(H._$z0-G._$z0)*j,R=I._$z0+(J._$z0-I._$z0)*j,S=K._$z0+(L._$z0-K._$z0)*j,T=M._$z0+(N._$z0-M._$z0)*j,U=O._$z0+(P._$z0-O._$z0)*j,c._$Yr._$z0=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(T+(U-T)*m)),n=A._$qT+(B._$qT-A._$qT)*j,o=C._$qT+(D._$qT-C._$qT)*j,y=E._$qT+(F._$qT-E._$qT)*j,z=G._$qT+(H._$qT-G._$qT)*j,R=I._$qT+(J._$qT-I._$qT)*j,S=K._$qT+(L._$qT-K._$qT)*j,T=M._$qT+(N._$qT-M._$qT)*j,U=O._$qT+(P._$qT-O._$qT)*j,c._$Yr._$qT=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(T+(U-T)*m))}else{for(var W=0|Math.pow(2,e),X=new Float32Array(W),Y=0;Y<W;Y++){for(var Z=Y,$=1,_=0;_<e;_++)$*=Z%2==0?1-g[_]:g[_],Z/=2;X[Y]=$}for(var aa=new Array,ba=0;ba<W;ba++)aa[ba]=this._$Y0[f[ba]];for(var ca=0,da=0,ea=0,fa=0,ga=0,ba=0;ba<W;ba++)ca+=X[ba]*aa[ba]._$fL,da+=X[ba]*aa[ba]._$gL,ea+=X[ba]*aa[ba]._$B0,fa+=X[ba]*aa[ba]._$z0,ga+=X[ba]*aa[ba]._$qT;c._$Yr._$fL=ca,c._$Yr._$gL=da,c._$Yr._$B0=ea,c._$Yr._$z0=fa,c._$Yr._$qT=ga}var h=this._$Y0[f[0]];c._$Yr.reflectX=h.reflectX,c._$Yr.reflectY=h.reflectY}},V.prototype._$2b=function(a,b){this!=b._$GT()&&console.log("### assert!! ### ");var c=b;if(c._$hS(!0),this._$32()){var d=this.getTargetBaseDataID();if(c._$8r==D._$ur&&(c._$8r=a.getBaseDataIndex(d)),c._$8r<0)ka._$so&&h._$li("_$L _$0P _$G :: %s",d),c._$hS(!1);else{var e=a.getBaseData(c._$8r);if(null!=e){var f=a._$q2(c._$8r),g=V._$Xo;g[0]=c._$Yr._$fL,g[1]=c._$Yr._$gL;var i=V._$io;i[0]=0,i[1]=-.1;var j=f._$GT().getType();j==D._$c2?i[1]=-10:i[1]=-.1;var k=V._$0o;this._$Jr(a,e,f,g,i,k);var l=Ba._$92(i,k);e._$nb(a,f,g,g,1,0,2),c._$Wr._$fL=g[0],c._$Wr._$gL=g[1],c._$Wr._$B0=c._$Yr._$B0,c._$Wr._$z0=c._$Yr._$z0,c._$Wr._$qT=c._$Yr._$qT-l*Ba._$NS;var m=f.getTotalScale();c.setTotalScale_notForClient(m*c._$Wr._$B0);var n=f.getTotalOpacity();c.setTotalOpacity(n*c.getInterpolatedOpacity()),c._$Wr.reflectX=c._$Yr.reflectX,c._$Wr.reflectY=c._$Yr.reflectY,c._$hS(f._$yo())}else c._$hS(!1)}}else c.setTotalScale_notForClient(c._$Yr._$B0),c.setTotalOpacity(c.getInterpolatedOpacity())},V.prototype._$nb=function(a,b,c,d,e,f,g){this!=b._$GT()&&console.log("### assert!! ### ");for(var u,v,h=b,i=null!=h._$Wr?h._$Wr:h._$Yr,j=Math.sin(Ba._$bS*i._$qT),k=Math.cos(Ba._$bS*i._$qT),l=h.getTotalScale(),m=i.reflectX?-1:1,n=i.reflectY?-1:1,o=k*l*m,p=-j*l*n,q=j*l*m,r=k*l*n,s=i._$fL,t=i._$gL,w=e*g,x=f;x<w;x+=g)u=c[x],v=c[x+1],d[x]=o*u+p*v+s,d[x+1]=q*u+r*v+t},V.prototype._$Jr=function(a,b,c,d,e,f){b!=c._$GT()&&console.log("### assert!! ### ");var g=V._$Lo;V._$Lo[0]=d[0],V._$Lo[1]=d[1],b._$nb(a,c,g,g,1,0,2);for(var h=V._$To,i=V._$Po,j=10,k=1,l=0;l<j;l++){if(i[0]=d[0]+k*e[0],i[1]=d[1]+k*e[1],b._$nb(a,c,i,h,1,0,2),h[0]-=g[0],h[1]-=g[1],0!=h[0]||0!=h[1])return f[0]=h[0],void(f[1]=h[1]);if(i[0]=d[0]-k*e[0],i[1]=d[1]-k*e[1],b._$nb(a,c,i,h,1,0,2),h[0]-=g[0],h[1]-=g[1],0!=h[0]||0!=h[1])return h[0]=-h[0],h[0]=-h[0],f[0]=h[0],void(f[1]=h[1]);k*=.1}ka._$so&&console.log("_$L0 to transform _$SP\n")},W.prototype=new ja,X.prototype=new A,X._$ur=-2,X._$ES=500,X._$wb=2,X._$8S=3,X._$os=4,X._$52=X._$ES,X._$R2=X._$ES,X._$Sb=function(a){for(var b=a.length-1;b>=0;--b){var c=a[b];c<X._$52?X._$52=c:c>X._$R2&&(X._$R2=c)}},X._$or=function(){return X._$52},X._$Pr=function(){return X._$R2},X.prototype._$F0=function(a){this._$gP=a._$nP(),this._$dr=a._$nP(),this._$GS=a._$nP(),this._$qb=a._$6L(),this._$Lb=a._$cS(),this._$mS=a._$Tb(),a.getFormatVersion()>=P._$T7?(this.clipID=a._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,X._$Sb(this._$Lb)},X.prototype.getClipIDList=function(){return this.clipIDList},X.prototype._$Nr=function(a,b){if(b._$IS[0]=!1,b._$Us=y._$Z2(a,this._$GS,b._$IS,this._$Lb),ka._$Zs);else if(b._$IS[0])return;b._$7s=y._$br(a,this._$GS,b._$IS,this._$mS)},X.prototype._$2b=function(a){},X.prototype.getDrawDataID=function(){return this._$gP},X.prototype._$j2=function(a){this._$gP=a},X.prototype.getOpacity=function(a,b){return b._$7s},X.prototype._$zS=function(a,b){return b._$Us},X.prototype.getTargetBaseDataID=function(){return this._$dr},X.prototype._$gs=function(a){this._$dr=a},X.prototype._$32=function(){return null!=this._$dr&&this._$dr!=ua._$2o()},X.prototype.getType=function(){},Y._$42=0,Y.prototype._$1b=function(){return this._$3S},Y.prototype.getDrawDataList=function(){return this._$aS},Y.prototype._$F0=function(a){this._$NL=a._$nP(),this._$aS=a._$nP(),this._$3S=a._$nP()},Y.prototype._$kr=function(a){a._$Zo(this._$3S),a._$xo(this._$aS),this._$3S=null,this._$aS=null},Z.prototype=new b,Z.loadModel=function(a){var c=new Z;return b._$62(c,a),c},Z.loadModel=function(a){var c=new Z;return b._$62(c,a),c},Z._$to=function(){var a=new Z;return a},Z._$er=function(a){var b=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==b.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+b._$PL());for(var c=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],d=Z.loadModel(b._$3b()),e=0;e<c.length;e++){var f=new _$5(c[e]);if(0==f.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+f._$PL());d.setTexture(e,_$nL._$_o(a,f._$3b()))}return d},Z.prototype.setGL=function(a){this._$zo.setGL(a)},Z.prototype.setTransform=function(a){this._$zo.setTransform(a)},Z.prototype.draw=function(){this._$5S.draw(this._$zo)},Z.prototype._$K2=function(){this._$zo._$K2()},Z.prototype.setTexture=function(a,b){null==this._$zo&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(a,b)},Z.prototype.setTexture=function(a,b){null==this._$zo&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(a,b)},Z.prototype._$Rs=function(){return this._$zo._$Rs()},Z.prototype._$Ds=function(a){this._$zo._$Ds(a)},Z.prototype.getDrawParam=function(){return this._$zo},$.prototype=new g,$._$cs="VISIBLE:",$._$ar="LAYOUT:",$.MTN_PREFIX_FADEIN="FADEIN:",$.MTN_PREFIX_FADEOUT="FADEOUT:",$._$Co=0,$._$1T=1,$.loadMotion=function(a){var b=R._$C(a),c=$.loadMotion(b);return c},$.loadMotion=function(a){a instanceof ArrayBuffer&&(a=new DataView(a));var b=new $,c=[0],d=a.byteLength;b._$yT=0;for(var e=0;e<d;++e){var f=_(a,e),g=f.charCodeAt(0);if("\n"!=f&&"\r"!=f)if("#"!=f)if("$"!=f){if(97<=g&&g<=122||65<=g&&g<=90||"_"==f){for(var h=e,i=-1;e<d&&(f=_(a,e),"\r"!=f&&"\n"!=f);++e)if("="==f){i=e;break}if(i>=0){var l=new N;G.startsWith(a,h,$._$cs)?(l._$RP=N._$hs,l._$4P=G.createString(a,h,i-h)):G.startsWith(a,h,$._$ar)?(l._$4P=G.createString(a,h+7,i-h-7),G.startsWith(a,h+7,"ANCHOR_X")?l._$RP=N._$xs:G.startsWith(a,h+7,"ANCHOR_Y")?l._$RP=N._$us:G.startsWith(a,h+7,"SCALE_X")?l._$RP=N._$qs:G.startsWith(a,h+7,"SCALE_Y")?l._$RP=N._$Ys:G.startsWith(a,h+7,"X")?l._$RP=N._$ws:G.startsWith(a,h+7,"Y")&&(l._$RP=N._$Ns)):(l._$RP=N._$Fr,l._$4P=G.createString(a,h,i-h)),b.motions.push(l);var m=0,n=[];for(e=i+1;e<d&&(f=_(a,e),"\r"!=f&&"\n"!=f);++e)if(","!=f&&" "!=f&&"\t"!=f){var k=G._$LS(a,d,e,c);if(c[0]>0){n.push(k),m++;var o=c[0];if(o<e){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=o-1}}l._$I0=new Float32Array(n),m>b._$yT&&(b._$yT=m)}}}else{for(var h=e,i=-1;e<d&&(f=_(a,e),"\r"!=f&&"\n"!=f);++e)if("="==f){i=e;break}var j=!1;if(i>=0)for(i==h+4&&"f"==_(a,h+1)&&"p"==_(a,h+2)&&"s"==_(a,h+3)&&(j=!0),e=i+1;e<d&&(f=_(a,e),"\r"!=f&&"\n"!=f);++e)if(","!=f&&" "!=f&&"\t"!=f){var k=G._$LS(a,d,e,c);c[0]>0&&j&&5<k&&k<121&&(b._$D0=k),e=c[0]}for(;e<d&&("\n"!=_(a,e)&&"\r"!=_(a,e));++e);}else for(;e<d&&("\n"!=_(a,e)&&"\r"!=_(a,e));++e);}return b._$rr=1e3*b._$yT/b._$D0|0,b},$.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},$.prototype.getLoopDurationMSec=function(){return this._$rr},$.prototype.dump=function(){for(var a=0;a<this.motions.length;a++){var b=this.motions[a];console.log("_$wL[%s] [%d]. ",b._$4P,b._$I0.length);for(var c=0;c<b._$I0.length&&c<10;c++)console.log("%5.2f ,",b._$I0[c]);console.log("\n")}},$.prototype.updateParamExe=function(a,b,c,d){for(var e=b-d._$z2,f=e*this._$D0/1e3,g=0|f,h=f-g,i=0;i<this.motions.length;i++){var j=this.motions[i],k=j._$I0.length,l=j._$4P;if(j._$RP==N._$hs){var m=j._$I0[g>=k?k-1:g];a.setParamFloat(l,m)}else if(N._$ws<=j._$RP&&j._$RP<=N._$Ys);else{var w,n=a.getParamIndex(l),o=a.getModelContext(),p=o.getParamMax(n),q=o.getParamMin(n),r=.4,s=r*(p-q),t=o.getParamFloat(n),u=j._$I0[g>=k?k-1:g],v=j._$I0[g+1>=k?k-1:g+1];w=u<v&&v-u>s||u>v&&u-v>s?u:u+(v-u)*h;var x=t+(w-t)*c;a.setParamFloat(l,x)}}g>=this._$yT&&(this._$E?(d._$z2=b,this.loopFadeIn&&(d._$bs=b)):d._$9L=!0),this._$eP=c},$.prototype._$r0=function(){return this._$E},$.prototype._$aL=function(a){this._$E=a},$.prototype._$S0=function(){return this._$D0},$.prototype._$U0=function(a){this._$D0=a},$.prototype.isLoopFadeIn=function(){return this.loopFadeIn},$.prototype.setLoopFadeIn=function(a){this.loopFadeIn=a},M.prototype.clear=function(){this.size=0},M.prototype.add=function(a){if(this._$P.length<=this.size){var b=new Float32Array(2*this.size);E._$jT(this._$P,0,b,0,this.size),this._$P=b}this._$P[this.size++]=a},M.prototype._$BL=function(){var a=new Float32Array(this.size);return E._$jT(this._$P,0,a,0,this.size),a},N._$Fr=0,N._$hs=1,N._$ws=100,N._$Ns=101,N._$xs=102,N._$us=103,N._$qs=104,N._$Ys=105,aa.prototype=new D,aa._$gT=new Array,aa.prototype._$zP=function(){this._$GS=new H,this._$GS._$zP()},aa.prototype._$F0=function(a){D.prototype._$F0.call(this,a),this._$A=a._$6L(),this._$o=a._$6L(),this._$GS=a._$nP(),this._$Eo=a._$nP(),D.prototype.readV2_opacity.call(this,a)},aa.prototype.init=function(a){var b=new ba(this),c=(this._$o+1)*(this._$A+1);return null!=b._$Cr&&(b._$Cr=null),b._$Cr=new Float32Array(2*c),null!=b._$hr&&(b._$hr=null),this._$32()?b._$hr=new Float32Array(2*c):b._$hr=null,b},aa.prototype._$Nr=function(a,b){var c=b;if(this._$GS._$Ur(a)){var d=this._$VT(),e=aa._$gT;e[0]=!1,y._$Vr(a,this._$GS,e,d,this._$Eo,c._$Cr,0,2),b._$Ib(e[0]),this.interpolateOpacity(a,this._$GS,b,e)}},aa.prototype._$2b=function(a,b){var c=b;if(c._$hS(!0),this._$32()){var d=this.getTargetBaseDataID();if(c._$8r==D._$ur&&(c._$8r=a.getBaseDataIndex(d)),c._$8r<0)ka._$so&&h._$li("_$L _$0P _$G :: %s",d),c._$hS(!1);else{var e=a.getBaseData(c._$8r),f=a._$q2(c._$8r);if(null!=e&&f._$yo()){var g=f.getTotalScale();c.setTotalScale_notForClient(g);var i=f.getTotalOpacity();c.setTotalOpacity(i*c.getInterpolatedOpacity()),e._$nb(a,f,c._$Cr,c._$hr,this._$VT(),0,2),c._$hS(!0)}else c._$hS(!1)}}else c.setTotalOpacity(c.getInterpolatedOpacity())},aa.prototype._$nb=function(a,b,c,d,e,f,g){var h=b,i=null!=h._$hr?h._$hr:h._$Cr;aa.transformPoints_sdk2(c,d,e,f,g,i,this._$o,this._$A)},aa.transformPoints_sdk2=function(a,b,c,d,e,f,g,h){for(var j,k,l,i=c*e,m=0,n=0,o=0,p=0,q=0,r=0,s=!1,t=d;t<i;t+=e){var u,v,w,x;if(w=a[t],x=a[t+1],u=w*g,v=x*h,u<0||v<0||g<=u||h<=v){var y=g+1;if(!s){s=!0,m=.25*(f[2*(0+0*y)]+f[2*(g+0*y)]+f[2*(0+h*y)]+f[2*(g+h*y)]),n=.25*(f[2*(0+0*y)+1]+f[2*(g+0*y)+1]+f[2*(0+h*y)+1]+f[2*(g+h*y)+1]);var z=f[2*(g+h*y)]-f[2*(0+0*y)],A=f[2*(g+h*y)+1]-f[2*(0+0*y)+1],B=f[2*(g+0*y)]-f[2*(0+h*y)],C=f[2*(g+0*y)+1]-f[2*(0+h*y)+1];o=.5*(z+B),p=.5*(A+C),q=.5*(z-B),r=.5*(A-C),m-=.5*(o+q),n-=.5*(p+r)}if(-2<w&&w<3&&-2<x&&x<3)if(w<=0)if(x<=0){var D=f[2*(0+0*y)],E=f[2*(0+0*y)+1],F=m-2*o,G=n-2*p,H=m-2*q,I=n-2*r,J=m-2*o-2*q,K=n-2*p-2*r,L=.5*(w- -2),M=.5*(x- -2);L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else if(x>=1){var H=f[2*(0+h*y)],I=f[2*(0+h*y)+1],J=m-2*o+1*q,K=n-2*p+1*r,D=m+3*q,E=n+3*r,F=m-2*o+3*q,G=n-2*p+3*r,L=.5*(w- -2),M=.5*(x-1);L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else{var N=0|v;N==h&&(N=h-1);var L=.5*(w- -2),M=v-N,O=N/h,P=(N+1)/h,H=f[2*(0+N*y)],I=f[2*(0+N*y)+1],D=f[2*(0+(N+1)*y)],E=f[2*(0+(N+1)*y)+1],J=m-2*o+O*q,K=n-2*p+O*r,F=m-2*o+P*q,G=n-2*p+P*r;L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else if(1<=w)if(x<=0){var F=f[2*(g+0*y)],G=f[2*(g+0*y)+1],D=m+3*o,E=n+3*p,J=m+1*o-2*q,K=n+1*p-2*r,H=m+3*o-2*q,I=n+3*p-2*r,L=.5*(w-1),M=.5*(x- -2);L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else if(x>=1){var J=f[2*(g+h*y)],K=f[2*(g+h*y)+1],H=m+3*o+1*q,I=n+3*p+1*r,F=m+1*o+3*q,G=n+1*p+3*r,D=m+3*o+3*q,E=n+3*p+3*r,L=.5*(w-1),M=.5*(x-1);L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else{var N=0|v;N==h&&(N=h-1);var L=.5*(w-1),M=v-N,O=N/h,P=(N+1)/h,J=f[2*(g+N*y)],K=f[2*(g+N*y)+1],F=f[2*(g+(N+1)*y)],G=f[2*(g+(N+1)*y)+1],H=m+3*o+O*q,I=n+3*p+O*r,D=m+3*o+P*q,E=n+3*p+P*r;L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else if(x<=0){var Q=0|u;Q==g&&(Q=g-1);var L=u-Q,M=.5*(x- -2),R=Q/g,S=(Q+1)/g,F=f[2*(Q+0*y)],G=f[2*(Q+0*y)+1],D=f[2*(Q+1+0*y)],E=f[2*(Q+1+0*y)+1],J=m+R*o-2*q,K=n+R*p-2*r,H=m+S*o-2*q,I=n+S*p-2*r;L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else if(x>=1){var Q=0|u;Q==g&&(Q=g-1);var L=u-Q,M=.5*(x-1),R=Q/g,S=(Q+1)/g,J=f[2*(Q+h*y)],K=f[2*(Q+h*y)+1],H=f[2*(Q+1+h*y)],I=f[2*(Q+1+h*y)+1],F=m+R*o+3*q,G=n+R*p+3*r,D=m+S*o+3*q,E=n+S*p+3*r;L+M<=1?(b[t]=J+(H-J)*L+(F-J)*M,b[t+1]=K+(I-K)*L+(G-K)*M):(b[t]=D+(F-D)*(1-L)+(H-D)*(1-M),b[t+1]=E+(G-E)*(1-L)+(I-E)*(1-M))}else System.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",w,x);else b[t]=m+w*o+x*q,b[t+1]=n+w*p+x*r}else k=u-(0|u),l=v-(0|v),j=2*((0|u)+(0|v)*(g+1)),k+l<1?(b[t]=f[j]*(1-k-l)+f[j+2]*k+f[j+2*(g+1)]*l,b[t+1]=f[j+1]*(1-k-l)+f[j+3]*k+f[j+2*(g+1)+1]*l):(b[t]=f[j+2*(g+1)+2]*(k-1+l)+f[j+2*(g+1)]*(1-k)+f[j+2]*(1-l),b[t+1]=f[j+2*(g+1)+3]*(k-1+l)+f[j+2*(g+1)+1]*(1-k)+f[j+3]*(1-l))}},aa.prototype.transformPoints_sdk1=function(a,b,c,d,e,f,g){for(var i,j,n,o,p,q,r,h=b,k=this._$o,l=this._$A,m=e*g,s=null!=h._$hr?h._$hr:h._$Cr,t=f;t<m;t+=g)ka._$ts?(i=c[t],j=c[t+1],i<0?i=0:i>1&&(i=1),j<0?j=0:j>1&&(j=1),i*=k,j*=l,n=0|i,o=0|j,n>k-1&&(n=k-1),o>l-1&&(o=l-1),q=i-n,r=j-o,p=2*(n+o*(k+1))):(i=c[t]*k,j=c[t+1]*l,q=i-(0|i),r=j-(0|j),p=2*((0|i)+(0|j)*(k+1))),q+r<1?(d[t]=s[p]*(1-q-r)+s[p+2]*q+s[p+2*(k+1)]*r,d[t+1]=s[p+1]*(1-q-r)+s[p+3]*q+s[p+2*(k+1)+1]*r):(d[t]=s[p+2*(k+1)+2]*(q-1+r)+s[p+2*(k+1)]*(1-q)+s[p+2]*(1-r),d[t+1]=s[p+2*(k+1)+3]*(q-1+r)+s[p+2*(k+1)+1]*(1-q)+s[p+3]*(1-r))},aa.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},aa.prototype.getType=function(){return D._$_b},ba.prototype=new ja,ca._$42=0,ca.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},ca.prototype._$F0=function(a){this._$g0=a._$8L(),this.visible=a._$8L(),this._$NL=a._$nP(),this._$3S=a._$nP(),this._$aS=a._$nP()},ca.prototype.init=function(a){var b=new da(this);return b.setPartsOpacity(this.isVisible()?1:0),b},ca.prototype._$6o=function(a){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(a)},ca.prototype._$3o=function(a){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(a)},ca.prototype._$Zo=function(a){this._$3S=a},ca.prototype._$xo=function(a){this._$aS=a},ca.prototype.isVisible=function(){return this.visible},ca.prototype._$uL=function(){return this._$g0},ca.prototype._$KP=function(a){this.visible=a},ca.prototype._$ET=function(a){this._$g0=a},ca.prototype.getBaseData=function(){return this._$3S},ca.prototype.getDrawData=function(){return this._$aS},ca.prototype._$p2=function(){return this._$NL},ca.prototype._$ob=function(a){this._$NL=a},ca.prototype.getPartsID=function(){return this._$NL},ca.prototype._$MP=function(a){this._$NL=a},da.prototype=new l,da.prototype.getPartsOpacity=function(){return this._$VS},da.prototype.setPartsOpacity=function(a){this._$VS=a},ea._$L7=function(){n._$27(),ua._$27(),J._$27(),k._$27()},ea.prototype.toString=function(){return this.id},fa.prototype._$F0=function(a){},ga.prototype._$1s=function(){return this._$4S},ga.prototype._$zP=function(){this._$4S=new Array},ga.prototype._$F0=function(a){this._$4S=a._$nP()},ga.prototype._$Ks=function(a){this._$4S.push(a)},ha.tr=new ta,ha._$50=new ta,ha._$Ti=new Array(0,0),ha._$Pi=new Array(0,0),ha._$B=new Array(0,0),ha.prototype._$lP=function(a,b,c,d){this.viewport=new Array(a,b,c,d)},ha.prototype._$bL=function(){this.context.save();var a=this.viewport;null!=a&&(this.context.beginPath(),this.context._$Li(a[0],a[1],a[2],a[3]),this.context.clip())},ha.prototype._$ei=function(){this.context.restore()},ha.prototype.drawElements=function(a,b,c,d,e,f,g,i){try{e!=this._$Qo&&(this._$Qo=e,this.context.globalAlpha=e);for(var j=b.length,k=a.width,l=a.height,m=this.context,n=this._$xP,o=this._$uP,p=this._$6r,q=this._$3r,r=ha.tr,s=ha._$Ti,t=ha._$Pi,u=ha._$B,v=0;v<j;v+=3){m.save();var x=b[v],y=b[v+1],z=b[v+2],A=n+p*c[2*x],B=o+q*c[2*x+1],C=n+p*c[2*y],D=o+q*c[2*y+1],E=n+p*c[2*z],F=o+q*c[2*z+1];g&&(g._$PS(A,B,u),A=u[0],B=u[1],g._$PS(C,D,u),C=u[0],D=u[1],g._$PS(E,F,u),E=u[0],F=u[1]);var G=k*d[2*x],H=l-l*d[2*x+1],I=k*d[2*y],J=l-l*d[2*y+1],K=k*d[2*z],L=l-l*d[2*z+1],M=Math.atan2(J-H,I-G),N=Math.atan2(D-B,C-A),O=C-A,P=D-B,Q=Math.sqrt(O*O+P*P),R=I-G,S=J-H,T=Math.sqrt(R*R+S*S),U=Q/T;w._$ni(K,L,G,H,I-G,J-H,-(J-H),I-G,s),w._$ni(E,F,A,B,C-A,D-B,-(D-B),C-A,t);var V=(t[0]-s[0])/s[1],W=Math.min(G,I,K),X=Math.max(G,I,K),Y=Math.min(H,J,L),Z=Math.max(H,J,L),$=Math.floor(W),_=Math.floor(Y),aa=Math.ceil(X),ba=Math.ceil(Z);r.identity(),r.translate(A,B),r.rotate(N),r.scale(1,t[1]/s[1]),r.shear(V,0),r.scale(U,U),r.rotate(-M),r.translate(-G,-H),r.setContext(m);var ca=!0,da=1.2;if(f||(f=ca?da:0),ka.IGNORE_EXPAND&&(f=0),ka.USE_CACHED_POLYGON_IMAGE){var ea=i._$e0;if(ea.gl_cacheImage=ea.gl_cacheImage||{},!ea.gl_cacheImage[v]){var fa=ha.createCanvas(aa-$,ba-_);ka.DEBUG_DATA.LDGL_CANVAS_MB=ka.DEBUG_DATA.LDGL_CANVAS_MB||0,ka.DEBUG_DATA.LDGL_CANVAS_MB+=(aa-$)*(ba-_)*4;var ga=fa.getContext("2d");ga.translate(-$,-_),ha.clip(ga,r,f,Q,G,H,I,J,K,L,A,B,C,D,E,F),ga.drawImage(a,0,0),ea.gl_cacheImage[v]={cacheCanvas:fa,cacheContext:ga}}m.drawImage(ea.gl_cacheImage[v].cacheCanvas,$,_)}else ka.IGNORE_CLIP||ha.clip(m,r,f,Q,G,H,I,J,K,L,A,B,C,D,E,F),ka.USE_ADJUST_TRANSLATION&&(W=0,X=k,Y=0,Z=l),m.drawImage(a,W,Y,X-W,Z-Y,W,Y,X-W,Z-Y);m.restore()}}catch(a){h._$Rb(a)}},ha.clip=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){c>.02?ha.expandClip(a,b,c,d,k,l,m,n,o,p):ha.clipWithTransform(a,null,e,f,g,h,i,j)},ha.expandClip=function(a,b,c,d,e,f,g,h,i,j){var k=g-e,l=h-f,m=i-e,n=j-f,o=k*n-l*m>0?c:-c,p=-l,q=k,r=i-g,s=j-h,t=-s,u=r,v=Math.sqrt(r*r+s*s),w=-n,x=m,y=Math.sqrt(m*m+n*n),z=e-o*p/d,A=f-o*q/d,B=g-o*p/d,C=h-o*q/d,D=g-o*t/v,E=h-o*u/v,F=i-o*t/v,G=j-o*u/v,H=e+o*w/y,I=f+o*x/y,J=i+o*w/y,K=j+o*x/y,L=ha._$50,M=b._$P2(L);return null!=M&&(ha.clipWithTransform(a,L,z,A,B,C,D,E,F,G,J,K,H,I),!0)},ha.clipWithTransform=function(a,b,c,d,e,f,g,i){if(arguments.length<7)return void h._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof ta))return void h._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var j=ha._$B,k=b,l=arguments;if(a.beginPath(),k){k._$PS(l[2],l[3],j),a.moveTo(j[0],j[1]);for(var m=4;m<l.length;m+=2)k._$PS(l[m],l[m+1],j),a.lineTo(j[0],j[1])}else{a.moveTo(l[2],l[3]);for(var m=4;m<l.length;m+=2)a.lineTo(l[m],l[m+1])}a.clip()},ha.createCanvas=function(a,b){var c=document.createElement("canvas");return c.setAttribute("width",a),c.setAttribute("height",b),c||h._$li("err : "+c),c},ha.dumpValues=function(){for(var a="",b=0;b<arguments.length;b++)a+="["+b+"]= "+arguments[b].toFixed(3)+" , ";console.log(a)},ia.prototype._$F0=function(a){this._$TT=a._$_T(),this._$LT=a._$_T(),this._$FS=a._$_T(),this._$wL=a._$nP()},ia.prototype.getMinValue=function(){return this._$TT},ia.prototype.getMaxValue=function(){return this._$LT},ia.prototype.getDefaultValue=function(){return this._$FS},ia.prototype.getParamID=function(){return this._$wL},ja.prototype._$yo=function(){return this._$AT&&!this._$JS},ja.prototype._$hS=function(a){this._$AT=a},ja.prototype._$GT=function(){return this._$e0},ja.prototype._$l2=function(a){this._$IP=a},ja.prototype.getPartsIndex=function(){return this._$IP},ja.prototype._$x2=function(){return this._$JS},ja.prototype._$Ib=function(a){this._$JS=a},ja.prototype.getTotalScale=function(){return this.totalScale},ja.prototype.setTotalScale_notForClient=function(a){this.totalScale=a},ja.prototype.getInterpolatedOpacity=function(){return this._$7s},ja.prototype.setInterpolatedOpacity=function(a){this._$7s=a},ja.prototype.getTotalOpacity=function(a){return this.totalOpacity},ja.prototype.setTotalOpacity=function(a){this.totalOpacity=a},ka._$2s="2.1.00_1",ka._$Kr=201001e3,ka._$sP=!0,ka._$so=!0,ka._$cb=!1,ka._$3T=!0,ka._$Ts=!0,ka._$fb=!0,ka._$ts=!0,ka.L2D_DEFORMER_EXTEND=!0,ka._$Wb=!1;ka._$yr=!1;ka._$Zs=!1,ka.L2D_NO_ERROR=0,ka._$i7=1e3,ka._$9s=1001,ka._$es=1100,ka._$r7=2e3,ka._$07=2001,ka._$b7=2002,ka._$H7=4e3,ka.L2D_COLOR_BLEND_MODE_MULT=0,ka.L2D_COLOR_BLEND_MODE_ADD=1,ka.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,ka._$6b=!0,ka._$cT=0,ka.clippingMaskBufferSize=256,ka.glContext=new Array,ka.frameBuffers=new Array,ka.fTexture=new Array,ka.IGNORE_CLIP=!1,ka.IGNORE_EXPAND=!1,ka.EXPAND_W=2,ka.USE_ADJUST_TRANSLATION=!0,ka.USE_CANVAS_TRANSFORM=!0,ka.USE_CACHED_POLYGON_IMAGE=!1,ka.DEBUG_DATA={},ka.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},ka.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ka.PROFILE_IOS_DEFAULT=ka.PROFILE_IOS_QUALITY,ka.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ka.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ka.initProfile=function(){Da.isIOS()?ka.setupProfile(ka.PROFILE_IOS_DEFAULT):Da.isAndroid()?ka.setupProfile(ka.PROFILE_ANDROID):ka.setupProfile(ka.PROFILE_DESKTOP)},ka.setupProfile=function(a,b){if("number"==typeof a)switch(a){case 9901:a=ka.PROFILE_IOS_SPEED;break;case 9902:a=ka.PROFILE_IOS_QUALITY;break;case 9903:a=ka.PROFILE_IOS_DEFAULT;break;case 9904:a=ka.PROFILE_ANDROID;break;case 9905:a=ka.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+a)}arguments.length<2&&(b=!0),b&&console.log("profile : "+a.PROFILE_NAME);for(var c in a)ka[c]=a[c],b&&console.log("  ["+c+"] = "+a[c])},ka.init=function(){if(ka._$6b){console.log("Live2D %s",ka._$2s),ka._$6b=!1;var a=!1;a=!0,ka.initProfile()}},ka.getVersionStr=function(){return ka._$2s},ka.getVersionNo=function(){return ka._$Kr},ka._$sT=function(a){ka._$cT=a},ka.getError=function(){var a=ka._$cT;return ka._$cT=0,a},ka.dispose=function(){ka.glContext=[],ka.frameBuffers=[],ka.fTexture=[]},ka.setGL=function(a,b){var c=b||0;ka.glContext[c]=a},ka.getGL=function(a){return ka.glContext[a]},ka.setClippingMaskBufferSize=function(a){ka.clippingMaskBufferSize=a},ka.getClippingMaskBufferSize=function(){return ka.clippingMaskBufferSize},ka.deleteBuffer=function(a){var b=ka.getGL(a);b.deleteFramebuffer(ka.frameBuffers[a].framebuffer),delete ka.frameBuffers[a],delete ka.glContext[a]},la._$r2=function(a){return a<0?0:a>1?1:.5-.5*Math.cos(a*Ba.PI_F)},ma._$fr=-1,ma.prototype.toString=function(){return this._$ib},na.prototype=new X,na._$42=0,na._$Os=30,na._$ms=0,na._$ns=1,na._$_s=2,na._$gT=new Array,na.prototype._$_S=function(a){this._$LP=a},na.prototype.getTextureNo=function(){return this._$LP},na.prototype._$ZL=function(){return this._$Qi},na.prototype._$H2=function(){return this._$JP},na.prototype.getNumPoints=function(){return this._$d0},na.prototype.getType=function(){return X._$wb},na.prototype._$B2=function(a,b,c){var d=b,e=null!=d._$hr?d._$hr:d._$Cr,f=O._$do;switch(f){default:case O._$Ms:throw new Error("_$L _$ro ");case O._$Qs:for(var g=this._$d0-1;g>=0;--g){var h=g*O._$No;e[h+4]=c}}},na.prototype._$zP=function(){this._$GS=new H,this._$GS._$zP()},na.prototype._$F0=function(a){X.prototype._$F0.call(this,a),this._$LP=a._$6L(),this._$d0=a._$6L(),this._$Yo=a._$6L();var b=a._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var c=3*this._$Yo-1;c>=0;--c)this._$BP[c]=b[c];if(this._$Eo=a._$nP(),this._$Qi=a._$nP(),a.getFormatVersion()>=P._$s7){if(this._$JP=a._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var d=a._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(d)}0!=(this._$JP&na._$Os)?this._$6s=(this._$JP&na._$Os)>>1:this._$6s=na._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},na.prototype.init=function(a){var b=new oa(this),c=this._$d0*O._$No,d=this._$32();null!=b._$Cr&&(b._$Cr=null),b._$Cr=new Float32Array(c),null!=b._$hr&&(b._$hr=null),b._$hr=d?new Float32Array(c):null;var e=O._$do;switch(e){default:case O._$Ms:if(O._$Ls)for(var f=this._$d0-1;f>=0;--f){var g=f<<1;this._$Qi[g+1]=1-this._$Qi[g+1]}break;case O._$Qs:for(var f=this._$d0-1;f>=0;--f){var g=f<<1,h=f*O._$No,i=this._$Qi[g],j=this._$Qi[g+1];b._$Cr[h]=i,b._$Cr[h+1]=j,b._$Cr[h+4]=0,d&&(b._$hr[h]=i,b._$hr[h+1]=j,b._$hr[h+4]=0)}}return b},na.prototype._$Nr=function(a,b){var c=b;if(this!=c._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(a)&&(X.prototype._$Nr.call(this,a,c),!c._$IS[0])){var d=na._$gT;d[0]=!1,y._$Vr(a,this._$GS,d,this._$d0,this._$Eo,c._$Cr,O._$i2,O._$No)}},na.prototype._$2b=function(a,b){try{this!=b._$GT()&&console.log("### assert!! ### ");var c=!1;b._$IS[0]&&(c=!0);var d=b;if(!c&&(X.prototype._$2b.call(this,a),this._$32())){var e=this.getTargetBaseDataID();if(d._$8r==X._$ur&&(d._$8r=a.getBaseDataIndex(e)),d._$8r<0)ka._$so&&h._$li("_$L _$0P _$G :: %s",e);else{var f=a.getBaseData(d._$8r),g=a._$q2(d._$8r);null==f||g._$x2()?d._$AT=!1:(f._$nb(a,g,d._$Cr,d._$hr,this._$d0,O._$i2,O._$No),d._$AT=!0),d.baseOpacity=g.getTotalOpacity()}}}catch(a){throw a}},na.prototype.draw=function(a,b,c){if(this!=c._$GT()&&console.log("### assert!! ### "),!c._$IS[0]){var d=c,e=this._$LP;e<0&&(e=1);var f=this.getOpacity(b,d)*c._$VS*c.baseOpacity,g=null!=d._$hr?d._$hr:d._$Cr;a.setClipBufPre_clipContextForDraw(c.clipBufPre_clipContext),a._$WP(this.culling),a._$Uo(e,3*this._$Yo,this._$BP,g,this._$Qi,f,this._$6s,d)}},na.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var a=0;a<this._$BP.length;a++)console.log("%5d ,",this._$BP[a]);console.log("\n  _$5i _$30");for(var a=0;a<this._$Eo.length;a++){console.log("\n    _$30[%d] = ",a);for(var b=this._$Eo[a],c=0;c<b.length;c++)console.log("%6.2f, ",b[c])}console.log("\n")},na.prototype._$72=function(a){return null==this._$5P?null:this._$5P[a]},na.prototype.getIndexArray=function(){return this._$BP},oa.prototype=new Ca,oa.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},pa.prototype._$HT=function(a){this.x=a.x,this.y=a.y},pa.prototype._$HT=function(a,b){this.x=a,this.y=b},qa.prototype=new b,qa.loadModel=function(a){var c=new qa;return b._$62(c,a),c},qa.loadModel=function(a,c){var d=c||0,e=new qa(d);return b._$62(e,a),e},qa._$to=function(){var a=new qa;return a},qa._$er=function(a){var b=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==b.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+b._$PL());for(var c=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],d=qa.loadModel(b._$3b()),e=0;e<c.length;e++){var f=new _$5(c[e]);if(0==f.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+f._$PL());d.setTexture(e,_$nL._$_o(a,f._$3b()))}return d},qa.prototype.setGL=function(a){ka.setGL(a)},qa.prototype.setTransform=function(a){this.drawParamWebGL.setTransform(a)},qa.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},qa.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},qa.prototype._$K2=function(){this.drawParamWebGL._$K2()},qa.prototype.setTexture=function(a,b){null==this.drawParamWebGL&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(a,b)},qa.prototype.setTexture=function(a,b){null==this.drawParamWebGL&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(a,b)},qa.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},qa.prototype._$Ds=function(a){this.drawParamWebGL._$Ds(a)},qa.prototype.getDrawParam=function(){return this.drawParamWebGL},qa.prototype.setMatrix=function(a){this.drawParamWebGL.setMatrix(a)},qa.prototype.setPremultipliedAlpha=function(a){this.drawParamWebGL.setPremultipliedAlpha(a)},qa.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},qa.prototype.setAnisotropy=function(a){this.drawParamWebGL.setAnisotropy(a)},qa.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ra.prototype._$tb=function(){return this.motions},ra.prototype.startMotion=function(a,b){for(var d=null,e=this.motions.length,f=0;f<e;++f)d=this.motions[f],null!=d&&(d._$qS(d._$w0.getFadeOut()),this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",e,d._$sr));if(null==a)return-1;d=new sa,d._$w0=a,this.motions.push(d);var g=d._$sr;return this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",e,g),g},ra.prototype.updateParam=function(a){try{for(var b=!1,c=0;c<this.motions.length;c++){var d=this.motions[c];if(null!=d){var e=d._$w0;null!=e?(e.updateParam(a,d),b=!0,d.isFinished()&&(this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,d._$sr),this.motions.splice(c,1),c--)):(this.motions=this.motions.splice(c,1),c--)}else this.motions.splice(c,1),c--}return b}catch(a){return h._$li(a),!0}},ra.prototype.isFinished=function(a){if(arguments.length>=1){for(var b=0;b<this.motions.length;b++){var c=this.motions[b];if(null!=c&&c._$sr==a&&!c.isFinished())return!1}return!0}for(var b=0;b<this.motions.length;b++){var c=this.motions[b];if(null!=c){var d=c._$w0;if(null!=d){if(!c.isFinished())return!1}else this.motions.splice(b,1),b--}else this.motions.splice(b,1),b--}return!0},ra.prototype.stopAllMotions=function(){for(var a=0;a<this.motions.length;a++){var b=this.motions[a];if(null!=b){var c=b._$w0;null!=c?(this.motions.splice(a,1),a--):(this.motions.splice(a,1),a--)}else this.motions.splice(a,1),a--}},ra.prototype._$Zr=function(a){this._$eb=a},ra.prototype._$e=function(){console.log("-- _$R --\n");for(var a=0;a<this.motions.length;a++){var b=this.motions[a],c=b._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,c.toString())}},sa._$Gs=0,sa.prototype.isFinished=function(){return this._$9L},sa.prototype._$qS=function(a){var b=E.getUserTimeMSec(),c=b+a;(this._$Do<0||c<this._$Do)&&(this._$Do=c)},sa.prototype._$Bs=function(){return this._$sr},ta.prototype.setContext=function(a){var b=this.m;a.transform(b[0],b[1],b[3],b[4],b[6],b[7])},ta.prototype.toString=function(){for(var a="LDTransform { ",b=0;b<9;b++)a+=this.m[b].toFixed(2)+" ,";return a+=" }"},ta.prototype.identity=function(){var a=this.m;a[0]=a[4]=a[8]=1,a[1]=a[2]=a[3]=a[5]=a[6]=a[7]=0},ta.prototype._$PS=function(a,b,c){null==c&&(c=new Array(0,0));var d=this.m;return c[0]=d[0]*a+d[3]*b+d[6],c[1]=d[1]*a+d[4]*b+d[7],c},ta.prototype._$P2=function(a){a||(a=new ta);var b=this.m,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=c*g*k+d*h*i+e*f*j-c*h*j-e*g*i-d*f*k;if(0==l)return null;var m=1/l;return a.m[0]=m*(g*k-j*h),a.m[1]=m*(j*e-d*k),a.m[2]=m*(d*h-g*e),a.m[3]=m*(i*h-f*k),a.m[4]=m*(c*k-i*e),a.m[5]=m*(f*e-c*h),a.m[6]=m*(f*j-i*g),a.m[7]=m*(i*d-c*j),a.m[8]=m*(c*g-f*d),a},ta.prototype.transform=function(a,b,c){null==c&&(c=new Array(0,0));var d=this.m;return c[0]=d[0]*a+d[3]*b+d[6],c[1]=d[1]*a+d[4]*b+d[7],c},ta.prototype.translate=function(a,b){var c=this.m;c[6]=c[0]*a+c[3]*b+c[6],c[7]=c[1]*a+c[4]*b+c[7],c[8]=c[2]*a+c[5]*b+c[8]},ta.prototype.scale=function(a,b){var c=this.m;c[0]*=a,c[1]*=a,c[2]*=a,c[3]*=b,c[4]*=b,c[5]*=b},ta.prototype.shear=function(a,b){var c=this.m,d=c[0]+c[3]*b,e=c[1]+c[4]*b,f=c[2]+c[5]*b;c[3]=c[0]*a+c[3],c[4]=c[1]*a+c[4],c[5]=c[2]*a+c[5],c[0]=d,c[1]=e,c[2]=f},ta.prototype.rotate=function(a){var b=this.m,c=Math.cos(a),d=Math.sin(a),e=b[0]*c+b[3]*d,f=b[1]*c+b[4]*d,g=b[2]*c+b[5]*d;b[3]=-b[0]*d+b[3]*c,b[4]=-b[1]*d+b[4]*c,b[5]=-b[2]*d+b[5]*c,b[0]=e,b[1]=f,b[2]=g},ta.prototype.concatenate=function(a){var b=this.m,c=a.m,d=b[0]*c[0]+b[3]*c[1]+b[6]*c[2],e=b[1]*c[0]+b[4]*c[1]+b[7]*c[2],f=b[2]*c[0]+b[5]*c[1]+b[8]*c[2],g=b[0]*c[3]+b[3]*c[4]+b[6]*c[5],h=b[1]*c[3]+b[4]*c[4]+b[7]*c[5],i=b[2]*c[3]+b[5]*c[4]+b[8]*c[5],j=b[0]*c[6]+b[3]*c[7]+b[6]*c[8],k=b[1]*c[6]+b[4]*c[7]+b[7]*c[8],l=b[2]*c[6]+b[5]*c[7]+b[8]*c[8];m[0]=d,m[1]=e,m[2]=f,m[3]=g,m[4]=h,m[5]=i,m[6]=j,m[7]=k,m[8]=l},ua.prototype=new ea,ua._$eT=null,ua._$tP=new Object,ua._$2o=function(){return null==ua._$eT&&(ua._$eT=ua.getID("DST_BASE")),ua._$eT},ua._$27=function(){ua._$tP.clear(),ua._$eT=null},ua.getID=function(a){var b=ua._$tP[a];return null==b&&(b=new ua(a),ua._$tP[a]=b),b},ua.prototype._$3s=function(){return new ua},va.prototype=new B,va._$9r=function(a){var b=new Float32Array(a);return b},va._$vb=function(a){var b=new Int16Array(a);return b},va._$cr=function(a,b){return null==a||a._$yL()<b.length?(a=va._$9r(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},va._$mb=function(a,b){return null==a||a._$yL()<b.length?(a=va._$vb(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},va._$Hs=function(){return this._$Gr},va._$as=function(a){this._$Gr=a},va.prototype.getGL=function(){return this.gl},va.prototype.setGL=function(a){this.gl=a},va.prototype.setTransform=function(a){this.transform=a},va.prototype._$ZT=function(){var a=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=a.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.DEPTH_TEST),a.frontFace(a.CW),a.enable(a.BLEND),a.colorMask(1,1,1,1),a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)},va.prototype._$Uo=function(a,b,c,d,e,f,g,h){if(!(f<.01&&null==this.clipBufPre_clipContextMask)){var j=(f>.9?ka.EXPAND_W:0,this.gl);if(null==this.gl)throw new Error("gl is null");var k=!1,m=1,n=1,o=1,p=this._$C0*m*f,q=this._$tT*n*f,r=this._$WL*o*f,s=this._$lT*f;if(null!=this.clipBufPre_clipContextMask){j.frontFace(j.CCW),j.useProgram(this.shaderProgram),this._$vS=wa(j,this._$vS,d),this._$no=xa(j,this._$no,c),j.enableVertexAttribArray(this.a_position_Loc),j.vertexAttribPointer(this.a_position_Loc,2,j.FLOAT,!1,0,0),this._$NT=wa(j,this._$NT,e),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,this.textures[a]),j.uniform1i(this.s_texture0_Loc,1),j.enableVertexAttribArray(this.a_texCoord_Loc),j.vertexAttribPointer(this.a_texCoord_Loc,2,j.FLOAT,!1,0,0),j.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var t=this.getClipBufPre_clipContextMask().layoutChannelNo,u=this.getChannelFlagAsColor(t);j.uniform4f(this.u_channelFlag,u.r,u.g,u.b,u.a);var v=this.getClipBufPre_clipContextMask().layoutBounds;j.uniform4f(this.u_baseColor_Loc,2*v.x-1,2*v.y-1,2*v._$EL()-1,2*v._$5T()-1),j.uniform1i(this.u_maskFlag_Loc,!0);}else if(k=null!=this.getClipBufPre_clipContextDraw()){j.useProgram(this.shaderProgramOff),this._$vS=wa(j,this._$vS,d),this._$no=xa(j,this._$no,c),j.enableVertexAttribArray(this.a_position_Loc_Off),j.vertexAttribPointer(this.a_position_Loc_Off,2,j.FLOAT,!1,0,0),this._$NT=wa(j,this._$NT,e),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,this.textures[a]),j.uniform1i(this.s_texture0_Loc_Off,1),j.enableVertexAttribArray(this.a_texCoord_Loc_Off),j.vertexAttribPointer(this.a_texCoord_Loc_Off,2,j.FLOAT,!1,0,0),j.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),j.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),j.activeTexture(j.TEXTURE2),j.bindTexture(j.TEXTURE_2D,ka.fTexture[this.glno]),j.uniform1i(this.s_texture1_Loc_Off,2);var t=this.getClipBufPre_clipContextDraw().layoutChannelNo,u=this.getChannelFlagAsColor(t);j.uniform4f(this.u_channelFlag_Loc_Off,u.r,u.g,u.b,u.a),j.uniform4f(this.u_baseColor_Loc_Off,p,q,r,s)}else j.useProgram(this.shaderProgram),this._$vS=wa(j,this._$vS,d),this._$no=xa(j,this._$no,c),j.enableVertexAttribArray(this.a_position_Loc),j.vertexAttribPointer(this.a_position_Loc,2,j.FLOAT,!1,0,0),this._$NT=wa(j,this._$NT,e),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,this.textures[a]),j.uniform1i(this.s_texture0_Loc,1),j.enableVertexAttribArray(this.a_texCoord_Loc),j.vertexAttribPointer(this.a_texCoord_Loc,2,j.FLOAT,!1,0,0),j.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),j.uniform4f(this.u_baseColor_Loc,p,q,r,s),j.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(j.CULL_FACE):this.gl.disable(j.CULL_FACE),this.gl.enable(j.BLEND);var w,x,y,z;if(null!=this.clipBufPre_clipContextMask)w=j.ONE,x=j.ONE_MINUS_SRC_ALPHA,y=j.ONE,z=j.ONE_MINUS_SRC_ALPHA;else switch(g){case na._$ms:w=j.ONE,x=j.ONE_MINUS_SRC_ALPHA,y=j.ONE,z=j.ONE_MINUS_SRC_ALPHA;break;case na._$ns:w=j.ONE,x=j.ONE,y=j.ZERO,z=j.ONE;break;case na._$_s:w=j.DST_COLOR,x=j.ONE_MINUS_SRC_ALPHA,y=j.ZERO,z=j.ONE}j.blendEquationSeparate(j.FUNC_ADD,j.FUNC_ADD),j.blendFuncSeparate(w,x,y,z),this.anisotropyExt&&j.texParameteri(j.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var A=c.length;j.drawElements(j.TRIANGLES,A,j.UNSIGNED_SHORT,0),j.bindTexture(j.TEXTURE_2D,null)}},va.prototype._$Rs=function(){throw new Error("_$Rs")},va.prototype._$Ds=function(a){throw new Error("_$Ds")},va.prototype._$K2=function(){for(var a=0;a<this.textures.length;a++){var b=this.textures[a];0!=b&&(this.gl._$K2(1,this.textures,a),this.textures[a]=null)}},va.prototype.setTexture=function(a,b){this.textures[a]=b},va.prototype.initShader=function(){var a=this.gl;this.loadShaders2(),this.a_position_Loc=a.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=a.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=a.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=a.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=a.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=a.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=a.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=a.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=a.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_baseColor")},va.prototype.disposeShader=function(){var a=this.gl;this.shaderProgram&&(a.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(a.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},va.prototype.compileShader=function(a,b){var d,c=this.gl,e=b,f=c.createShader(a);if(null==f)return h._$Ji("_$L0 to create shader"),null;c.shaderSource(f,e),c.compileShader(f);var d=c.getShaderParameter(f,c.COMPILE_STATUS);if(!d){var g=c.getShaderInfoLog(f);return h._$Ji("_$L0 to compile shader : "+g),c.deleteShader(f),null}return f},va.prototype.loadShaders2=function(){var a=this.gl;if(this.shaderProgram=a.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=a.createProgram(),!this.shaderProgramOff)return!1;var b="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}",c="precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}",d="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}",e="precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}";if(this.vertShader=this.compileShader(a.VERTEX_SHADER,b),!this.vertShader)return h._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(a.VERTEX_SHADER,d),!this.vertShaderOff)return h._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(a.FRAGMENT_SHADER,c),!this.fragShader)return h._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(a.FRAGMENT_SHADER,e),!this.fragShaderOff)return h._$Ji("OffFragment shader compile _$li!"),!1;a.attachShader(this.shaderProgram,this.vertShader),a.attachShader(this.shaderProgram,this.fragShader),a.attachShader(this.shaderProgramOff,this.vertShaderOff),a.attachShader(this.shaderProgramOff,this.fragShaderOff),a.linkProgram(this.shaderProgram),a.linkProgram(this.shaderProgramOff);var f=a.getProgramParameter(this.shaderProgram,a.LINK_STATUS);if(!f){var g=a.getProgramInfoLog(this.shaderProgram);return h._$Ji("_$L0 to link program: "+g),this.vertShader&&(a.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(a.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(a.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(a.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(a.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(a.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},va.prototype.createFramebuffer=function(){var a=this.gl,b=ka.clippingMaskBufferSize,c=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,c);var d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d),a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,b,b),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,d);var e=a.createTexture();return a.bindTexture(a.TEXTURE_2D,e),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,b,0,a.RGBA,a.UNSIGNED_BYTE,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.bindTexture(a.TEXTURE_2D,null),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,null),ka.fTexture[this.glno]=e,{framebuffer:c,renderbuffer:d,texture:ka.fTexture[this.glno]}},ya.prototype._$fP=function(){var b,c,d,a=this._$ST();if(0==(128&a))return 255&a;if(0==(128&(b=this._$ST())))return(127&a)<<7|127&b;if(0==(128&(c=this._$ST())))return(127&a)<<14|(127&b)<<7|255&c;if(0==(128&(d=this._$ST())))return(127&a)<<21|(127&b)<<14|(127&c)<<7|255&d;throw new ma("_$L _$0P  _")},ya.prototype.getFormatVersion=function(){return this._$S2},ya.prototype._$gr=function(a){this._$S2=a},ya.prototype._$3L=function(){return this._$fP()},ya.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},ya.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},ya.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},ya.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},ya.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},ya.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new ma("_$L _$q read long")},ya.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var za=!0;ya.prototype._$bT=function(){this._$zT();var a=this._$3L(),b=null;if(za)try{var c=new ArrayBuffer(2*a);b=new Uint16Array(c);for(var d=0;d<a;++d)b[d]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,b)}catch(a){za=!1}try{var e=new Array;if(null==b)for(var d=0;d<a;++d)e[d]=this._$T.getUint8(this._$F++);else for(var d=0;d<a;++d)e[d]=b[d];return String.fromCharCode.apply(null,e)}catch(a){console.log("read utf8 / _$rT _$L0 !! : "+a)}},ya.prototype._$cS=function(){this._$zT();for(var a=this._$3L(),b=new Int32Array(a),c=0;c<a;c++)b[c]=this._$T.getInt32(this._$F),this._$F+=4;return b},ya.prototype._$Tb=function(){this._$zT();for(var a=this._$3L(),b=new Float32Array(a),c=0;c<a;c++)b[c]=this._$T.getFloat32(this._$F),this._$F+=4;return b},ya.prototype._$5b=function(){this._$zT();for(var a=this._$3L(),b=new Float64Array(a),c=0;c<a;c++)b[c]=this._$T.getFloat64(this._$F),this._$F+=8;return b},ya.prototype._$nP=function(){return this._$Jb(-1)},ya.prototype._$Jb=function(a){if(this._$zT(),a<0&&(a=this._$3L()),a==P._$7P){var b=this._$6L();if(0<=b&&b<this._$Ko.length)return this._$Ko[b];throw new ma("_$sL _$4i @_$m0")}var c=this._$4b(a);return this._$Ko.push(c),c},ya.prototype._$4b=function(a){if(0==a)return null;if(50==a){var b=this._$bT(),c=J.getID(b);return c}if(51==a){var b=this._$bT(),c=ua.getID(b);return c}if(134==a){var b=this._$bT(),c=k.getID(b);return c}if(60==a){var b=this._$bT(),c=n.getID(b);return c}if(a>=48){var d=P._$9o(a);return null!=d?(d._$F0(this),d):null}switch(a){case 1:return this._$bT();case 10:var e=this._$6L();return new f(e,!0);case 11:return new x(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new x(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new z(this._$mP(),this._$mP());case 14:return new z(this._$_T(),this._$_T());case 15:for(var g=this._$3L(),c=new Array(g),h=0;h<g;h++)c[h]=this._$nP();return c;case 17:var c=new K(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return c;case 21:return new j(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new pa(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new ma("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+a);default:throw new ma("_$6 _$q : _$nP() NO _$i : "+a)}},ya.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},ya.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},Aa.prototype._$wP=function(a,b,c){for(var d=0;d<c;d++){for(var e=0;e<b;e++){var f=2*(e+d*b);console.log("(% 7.3f , % 7.3f) , ",a[f],a[f+1])}console.log("\n")}console.log("\n")},Ba._$2S=Math.PI/180,Ba._$bS=Math.PI/180,Ba._$wS=180/Math.PI,Ba._$NS=180/Math.PI,Ba.PI_F=Math.PI,Ba._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],Ba._$92=function(a,b){var c=Math.atan2(a[1],a[0]),d=Math.atan2(b[1],b[0]);return Ba._$tS(c,d)},Ba._$tS=function(a,b){for(var c=a-b;c<-Math.PI;)c+=2*Math.PI;for(;c>Math.PI;)c-=2*Math.PI;return c},Ba._$9=function(a){return Math.sin(a)},Ba.fcos=function(a){return Math.cos(a)},Ca.prototype._$u2=function(){return this._$IS[0]},Ca.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},Ca.prototype._$GT=function(){return this._$e0},Da._$W2=0,Da.SYSTEM_INFO=null,Da.USER_AGENT=navigator.userAgent,Da.isIPhone=function(){return Da.SYSTEM_INFO||Da.setup(),Da.SYSTEM_INFO._isIPhone},Da.isIOS=function(){return Da.SYSTEM_INFO||Da.setup(),Da.SYSTEM_INFO._isIPhone||Da.SYSTEM_INFO._isIPad},Da.isAndroid=function(){return Da.SYSTEM_INFO||Da.setup(),Da.SYSTEM_INFO._isAndroid},Da.getOSVersion=function(){return Da.SYSTEM_INFO||Da.setup(),Da.SYSTEM_INFO.version},Da.getOS=function(){return Da.SYSTEM_INFO||Da.setup(),Da.SYSTEM_INFO._isIPhone||Da.SYSTEM_INFO._isIPad?"iOS":Da.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Da.setup=function(){function b(a,b){for(var c=a.substring(b).split(/[ _,;\.]/),d=0,e=0;e<=2&&!isNaN(c[e]);e++){var f=parseInt(c[e]);if(f<0||f>999){h._$li("err : "+f+" @UtHtml5.setup()"),d=0;break}d+=f*Math.pow(1e3,2-e)}return d}var c,a=Da.USER_AGENT,e=Da.SYSTEM_INFO={userAgent:a};if((c=a.indexOf("iPhone OS "))>=0)e.os="iPhone",e._isIPhone=!0,e.version=b(a,c+"iPhone OS ".length);else if((c=a.indexOf("iPad"))>=0){if(c=a.indexOf("CPU OS"),c<0)return void h._$li(" err : "+a+" @UtHtml5.setup()");e.os="iPad",e._isIPad=!0,e.version=b(a,c+"CPU OS ".length)}else(c=a.indexOf("Android"))>=0?(e.os="Android",e._isAndroid=!0,e.version=b(a,c+"Android ".length)):(e.os="-",e.version=-1)},window.UtSystem=E,window.UtDebug=h,window.LDTransform=ta,window.LDGL=ha,window.Live2D=ka,window.Live2DModelWebGL=qa,window.Live2DModelJS=Z,window.Live2DMotion=$,window.MotionQueueManager=ra,window.PhysicsHair=p,window.AMotion=g,window.PartsDataID=k,window.DrawDataID=J,window.BaseDataID=ua,window.ParamID=n,ka.init();var a=!1}();