function MatrixStack(){}MatrixStack.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],MatrixStack.depth=0,MatrixStack.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],MatrixStack.tmp=new Array(16),MatrixStack.reset=function(){this.depth=0},MatrixStack.loadIdentity=function(){for(var a=0;a<16;a++)this.currentMatrix[a]=a%5==0?1:0},MatrixStack.push=function(){var b=(16*this.depth,16*(this.depth+1));this.matrixStack.length<b+16&&(this.matrixStack.length=b+16);for(var c=0;c<16;c++)this.matrixStack[b+c]=this.currentMatrix[c];this.depth++},MatrixStack.pop=function(){this.depth--,this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var a=16*this.depth,b=0;b<16;b++)this.currentMatrix[b]=this.matrixStack[a+b]},MatrixStack.getMatrix=function(){return this.currentMatrix},MatrixStack.multMatrix=function(a){var b,c,d;for(b=0;b<16;b++)this.tmp[b]=0;for(b=0;b<4;b++)for(c=0;c<4;c++)for(d=0;d<4;d++)this.tmp[b+4*c]+=this.currentMatrix[b+4*d]*a[d+4*c];for(b=0;b<16;b++)this.currentMatrix[b]=this.tmp[b]};